<!DOCTYPE html>



  


<html class="theme-next gemini use-motion" lang="zh-CN">
<head>
  <!-- hexo-inject:begin --><!-- hexo-inject:end --><meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
<meta name="theme-color" content="#222">



  
  
    
    
  <script src="/lib/pace/pace.min.js?v=1.0.2"></script>
  <link href="/lib/pace/pace-theme-minimal.min.css?v=1.0.2" rel="stylesheet">




  
  
  <link rel="stylesheet" media="all" href="/lib/Han/dist/han.min.css?v=3.3">




<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />






















<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.4" rel="stylesheet" type="text/css" />



  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-Mickey_snow.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-Mickey_snow.png?v=5.1.4">






  <meta name="keywords" content="Hexo, NexT" />










<meta name="description" content="--force now, think later.">
<meta property="og:type" content="website">
<meta property="og:title" content="Mickey-snow&#39;s Blog">
<meta property="og:url" content="https://mickey-snow.github.io/page/13/index.html">
<meta property="og:site_name" content="Mickey-snow&#39;s Blog">
<meta property="og:description" content="--force now, think later.">
<meta property="og:locale" content="zh_CN">
<meta property="article:author" content="Mickey-snow">
<meta name="twitter:card" content="summary">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Gemini',
    version: '5.1.4',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":true,"scrollpercent":true,"onmobile":false},
    fancybox: false,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: 'Author'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="https://mickey-snow.github.io/page/13/"/>





  <title>Mickey-snow's Blog</title>
  








<meta name="generator" content="Hexo 4.2.0"><!-- hexo-inject:begin --><!-- hexo-inject:end --></head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-CN">

  
  
    
  

  <!-- hexo-inject:begin --><!-- hexo-inject:end --><div class="container sidebar-position-left 
  page-home">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">Mickey-snow's Blog</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle"></p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/%20" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about/%20" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-user"></i> <br />
            
            关于
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags/%20" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            标签
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories/%20" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br />
            
            分类
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/%20" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            归档
          </a>
        </li>
      

      
        <li class="menu-item menu-item-search">
          
            <a href="javascript:;" class="popup-trigger">
          
            
              <i class="menu-item-icon fa fa-search fa-fw"></i> <br />
            
            搜索
          </a>
        </li>
      
    </ul>
  

  
    <div class="site-search">
      
  <div class="popup search-popup local-search-popup">
  <div class="local-search-header clearfix">
    <span class="search-icon">
      <i class="fa fa-search"></i>
    </span>
    <span class="popup-btn-close">
      <i class="fa fa-times-circle"></i>
    </span>
    <div class="local-search-input-wrapper">
      <input autocomplete="off"
             placeholder="搜索..." spellcheck="false"
             type="text" id="local-search-input">
    </div>
  </div>
  <div id="local-search-result"></div>
</div>



    </div>
  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://mickey-snow.github.io/2018/09/01/Welcome/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Mickey-snow">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Mickey-snow's Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/09/01/Welcome/" itemprop="url">欢迎访问Mickey-snow的博客</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建时间" itemprop="dateCreated datePublished" datetime="2018-09-01T00:00:00+08:00">
                2018-09-01
              </time>
            

            
              <span class="post-meta-divider">|</span>
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-check-o"></i>
              </span>
              
                <span class="post-meta-item-text">修改时间&#58;</span>
              
              <time title="修改时间" itemprop="dateModified" datetime="2020-04-07T11:45:21+08:00">
                2020-04-07
              </time>
            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E6%9D%82%E9%A1%B9/" itemprop="url" rel="index">
                    <span itemprop="name">杂项</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          
            <div class="post-wordcount">
              
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Words count in article&#58;</span>
                
                <span title="Words count in article">
                  64 character(s)
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Reading time &asymp;</span>
                
                <span title="Reading time">
                  1 minute(s)
                </span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body han-init-context" itemprop="articleBody">

      
      

      
        
          <p>您好，我是</p>
<script type="math/tex; mode=display">
\mathcal{Mickey-snow}</script><p>来自WFLS,HB,PRC. 欢迎访问我的博客！阁下可以查看 Mickey-snow 的<a href="https://mickey-snow.github.io/about/">简介</a>，通过<a href="https://mickey-snow.github.io/2018/09/01/更多信息&amp;联系方式/">这些方式</a>与我交流，共同学习、进步。</p>
<p>这是本项目的地址：<a href="https://github.com/Mickey-snow/Mickey-snow.github.io" target="_blank" rel="noopener">https://github.com/Mickey-snow/Mickey-snow.github.io</a>.</p>
          <!--noindex-->
          <div class="post-button text-center">
            <a class="btn" href="/2018/09/01/Welcome/#更多" rel="contents">
              阅读全文 &raquo;
            </a>
          </div>
          <!--/noindex-->
        
      
    </div>
    
    
    
  

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://mickey-snow.github.io/2018/09/01/hello-world/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Mickey-snow">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Mickey-snow's Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/09/01/hello-world/" itemprop="url">Hello World</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建时间" itemprop="dateCreated datePublished" datetime="2018-09-01T00:00:00+08:00">
                2018-09-01
              </time>
            

            
              <span class="post-meta-divider">|</span>
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-check-o"></i>
              </span>
              
                <span class="post-meta-item-text">修改时间&#58;</span>
              
              <time title="修改时间" itemprop="dateModified" datetime="2020-04-07T12:00:03+08:00">
                2020-04-07
              </time>
            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E6%90%AD%E5%BB%BA%E4%B8%8E%E6%B5%8B%E8%AF%95/" itemprop="url" rel="index">
                    <span itemprop="name">搭建与测试</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          
            <div class="post-wordcount">
              
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Words count in article&#58;</span>
                
                <span title="Words count in article">
                  73 character(s)
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Reading time &asymp;</span>
                
                <span title="Reading time">
                  1 minute(s)
                </span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body han-init-context" itemprop="articleBody">

      
      

      
        
          
            <p>Welcome to <a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/" target="_blank" rel="noopener">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html" target="_blank" rel="noopener">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues" target="_blank" rel="noopener">GitHub</a>.</p>
<h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo new <span class="string">"My New Post"</span></span><br></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/writing.html" target="_blank" rel="noopener">Writing</a></p>
<h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/server.html" target="_blank" rel="noopener">Server</a></p>
<h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/generating.html" target="_blank" rel="noopener">Generating</a></p>
<h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/deployment.html" target="_blank" rel="noopener">Deployment</a></p>

          
        
      
    </div>
    
    
    
  

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://mickey-snow.github.io/2018/08/31/%E5%9C%A8Hexo%E4%B8%AD%E6%8F%92%E5%85%A5%E5%9B%BE%E7%89%87/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Mickey-snow">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Mickey-snow's Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/08/31/%E5%9C%A8Hexo%E4%B8%AD%E6%8F%92%E5%85%A5%E5%9B%BE%E7%89%87/" itemprop="url">在Hexo中插入图片</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建时间" itemprop="dateCreated datePublished" datetime="2018-08-31T00:00:00+08:00">
                2018-08-31
              </time>
            

            
              <span class="post-meta-divider">|</span>
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-check-o"></i>
              </span>
              
                <span class="post-meta-item-text">修改时间&#58;</span>
              
              <time title="修改时间" itemprop="dateModified" datetime="2020-04-07T12:00:03+08:00">
                2020-04-07
              </time>
            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/" itemprop="url" rel="index">
                    <span itemprop="name">学习笔记</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          
            <div class="post-wordcount">
              
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Words count in article&#58;</span>
                
                <span title="Words count in article">
                  118 character(s)
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Reading time &asymp;</span>
                
                <span title="Reading time">
                  1 minute(s)
                </span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body han-init-context" itemprop="articleBody">

      
      

      
        
          
            <p>在网上学习了很多种方法，安装了一堆插件仍然不管用。事实上只用先设置 post_asset_folder 为 true 参数，然后在Hexo目录下执行 npm install <a href="https://github.com/CodeFalling/hexo-asset-image" target="_blank" rel="noopener">https://github.com/CodeFalling/hexo-asset-image</a> —save.</p>
<p>具体使用过程中，创建一个文件夹放在 _posts 下，与需要使用图片的文档同名，然后将图片放入文件夹中即可。文档中这样写：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;% asset_img xxx.jpg 图片描述 %&#125;</span><br></pre></td></tr></table></figure>
<p>效果如下:</p>
<img src="/2018/08/31/%E5%9C%A8Hexo%E4%B8%AD%E6%8F%92%E5%85%A5%E5%9B%BE%E7%89%87/44786204_p0%5B1%5D.jpg" class="" title="图片描述">
          
        
      
    </div>
    
    
    
  

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://mickey-snow.github.io/2018/08/27/CF1029F%20Multicolored%20Markers/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Mickey-snow">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Mickey-snow's Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/08/27/CF1029F%20Multicolored%20Markers/" itemprop="url">【题解】CF1029F</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建时间" itemprop="dateCreated datePublished" datetime="2018-08-27T00:00:00+08:00">
                2018-08-27
              </time>
            

            
              <span class="post-meta-divider">|</span>
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-check-o"></i>
              </span>
              
                <span class="post-meta-item-text">修改时间&#58;</span>
              
              <time title="修改时间" itemprop="dateModified" datetime="2020-04-07T12:00:03+08:00">
                2020-04-07
              </time>
            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E9%A2%98%E8%A7%A3/" itemprop="url" rel="index">
                    <span itemprop="name">题解</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          
            <div class="post-wordcount">
              
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Words count in article&#58;</span>
                
                <span title="Words count in article">
                  483 character(s)
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Reading time &asymp;</span>
                
                <span title="Reading time">
                  2 minute(s)
                </span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body han-init-context" itemprop="articleBody">

      
      

      
        
          
            <p>你需要在一个排布着无限个瓦块的地方将 $a$ 片瓦块染成红色， $b$ 片瓦块染成蓝色。一开始所有的瓦块都是白色的，你只能在白色的瓦块上染色。而且染色完成之后的瓦块必须满足：</p>
<ol>
<li>所有红色瓦块形成一个矩形或者所有蓝色瓦块形成一个矩形。</li>
<li>所有不是白色的瓦块形成一个矩形。</li>
</ol>
<p>求出在所有可行的方案中，所有不是白色的瓦块形成的矩形的最小周长 $min(C)$ . 输出这个 $C$.</p>
<p>可以发现，最终有色瓦块形成的这个矩形的长和宽如果分别为 $m​$ 和 $n​$ ,那么 $m+n=a+b​$.我们将所有可能的 $m​$ 和 $n​$ 全部枚举出来，找到一个最小的 $C​$ 就可以了。</p>
<p>不难发现，一组符合条件的 $m$ 和 $n$ 满足下列条件：</p>
<ol>
<li>$m | a+b$ .</li>
<li>$n \ge \lceil a \div m \rceil$ 或 $n \ge \lceil b \div m \rceil$ .</li>
</ol>
<p>我们可以用两次循环分别枚举 $m$ 满足条件2的前半部分或者后半部分。如果限制 $m \leq n$ ，那么 $m \in [1, \sqrt {a+b}]$ 且 $m \in N^+$ ,缩小了枚举范围。时间复杂度为 $O(\sqrt{N})$ .</p>
<p>代码如下：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">using System;</span><br><span class="line"></span><br><span class="line">namespace CF1029F </span><br><span class="line">&#123;</span><br><span class="line">	class Program </span><br><span class="line">	&#123;</span><br><span class="line">		static void Main(string[] args) </span><br><span class="line">		&#123;</span><br><span class="line">			string[] div &#x3D; Console.ReadLine().Split(&#39; &#39;);</span><br><span class="line">			Int64 a &#x3D; Convert.ToInt64(div[0]), b &#x3D; Convert.ToInt64(div[1]), _min &#x3D; Int64.MaxValue;</span><br><span class="line">			Int64 tot &#x3D; a + b, siz &#x3D; (Int64)Math.Sqrt(tot) + 1, len &#x3D; a;</span><br><span class="line"></span><br><span class="line">			for(int i &#x3D; 1;i &lt; siz;i++) &#123;</span><br><span class="line">				if(a % i &#x3D;&#x3D; 0)</span><br><span class="line">					len &#x3D; a &#x2F; i;</span><br><span class="line">				if(tot % i &#x3D;&#x3D; 0 &amp;&amp; tot &#x2F; i &gt;&#x3D; len)</span><br><span class="line">					_min &#x3D; Math.Min(_min, ((tot &#x2F; i + i) &lt;&lt; 1));</span><br><span class="line">			&#125;</span><br><span class="line">			len &#x3D; b;</span><br><span class="line">			for(int i &#x3D; 1;i &lt; siz;i++) &#123;</span><br><span class="line">				if(b % i &#x3D;&#x3D; 0)</span><br><span class="line">					len &#x3D; b &#x2F; i;</span><br><span class="line"></span><br><span class="line">				if(tot % i &#x3D;&#x3D; 0 &amp;&amp; tot &#x2F; i &gt;&#x3D; len)</span><br><span class="line">					_min &#x3D; Math.Min(_min, ((tot &#x2F; i + i) &lt;&lt; 1));</span><br><span class="line">			&#125;</span><br><span class="line"></span><br><span class="line">			Console.WriteLine(_min.ToString());</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

          
        
      
    </div>
    
    
    
  

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://mickey-snow.github.io/2018/08/27/%E9%80%9A%E8%BF%87%E8%87%AA%E5%AE%9A%E4%B9%89%E7%9A%84%E6%AF%94%E8%BE%83%E5%99%A8%E6%8E%92%E5%BA%8F/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Mickey-snow">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Mickey-snow's Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/08/27/%E9%80%9A%E8%BF%87%E8%87%AA%E5%AE%9A%E4%B9%89%E7%9A%84%E6%AF%94%E8%BE%83%E5%99%A8%E6%8E%92%E5%BA%8F/" itemprop="url">通过自定义的比较器排序</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建时间" itemprop="dateCreated datePublished" datetime="2018-08-27T00:00:00+08:00">
                2018-08-27
              </time>
            

            
              <span class="post-meta-divider">|</span>
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-check-o"></i>
              </span>
              
                <span class="post-meta-item-text">修改时间&#58;</span>
              
              <time title="修改时间" itemprop="dateModified" datetime="2020-04-07T12:00:03+08:00">
                2020-04-07
              </time>
            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/" itemprop="url" rel="index">
                    <span itemprop="name">学习笔记</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          
            <div class="post-wordcount">
              
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Words count in article&#58;</span>
                
                <span title="Words count in article">
                  463 character(s)
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Reading time &asymp;</span>
                
                <span title="Reading time">
                  2 minute(s)
                </span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body han-init-context" itemprop="articleBody">

      
      

      
        
          
            <p>在使用自定义比较器比较两个变量时，等于则返回0，小于返回-1，大于返回1.</p>
<p>对于Class类的比较器：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">public class Road &#123;</span><br><span class="line">	public int Fr &#123; get; set; &#125;</span><br><span class="line">	public int To &#123; get; set; &#125;</span><br><span class="line">	public int Val &#123; get; set; &#125;</span><br><span class="line">&#125;</span><br><span class="line">public class CompRoad : IComparer&lt;Road&gt; &#123;</span><br><span class="line">	public int Compare(Road a, Road b) &#123;</span><br><span class="line">		if(a.Val &#x3D;&#x3D; b.Val) return 0;</span><br><span class="line">		else return (a.Val &lt; b.Val) ? -1 : 1;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>同样的方法适用于内置类型，在这里按照 Road.Val 大小排序。调用：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">.Sort(new CompRoad());</span><br></pre></td></tr></table></figure>
<p>使用这种方法完成题目<a href="https://www.luogu.org/problemnew/show/P3366" target="_blank" rel="noopener">【模板】最小生成树</a> ,代码如下：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br></pre></td><td class="code"><pre><span class="line">using System;</span><br><span class="line">using System.Collections.Generic;</span><br><span class="line"></span><br><span class="line">namespace P1967</span><br><span class="line">&#123;</span><br><span class="line">	class Program </span><br><span class="line">	&#123;</span><br><span class="line">		public class Road &#123;</span><br><span class="line">			public int Fr &#123; get; set; &#125;</span><br><span class="line">			public int To &#123; get; set; &#125;</span><br><span class="line">			public int Val &#123; get; set; &#125;</span><br><span class="line">		&#125;</span><br><span class="line">		public class CompRoad : IComparer&lt;Road&gt; &#123;</span><br><span class="line">			public int Compare(Road a, Road b) &#123;</span><br><span class="line">				if(a.Val &#x3D;&#x3D; b.Val) return 0;</span><br><span class="line">				else return (a.Val &lt; b.Val) ? -1 : 1;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">		public class Union_find &#123;</span><br><span class="line">			private static int[] Up;</span><br><span class="line">			public static void Activate(int n) &#123;</span><br><span class="line">				Up &#x3D; new int[n];</span><br><span class="line">				for(int i &#x3D; 0;i &lt; n;i++) Up[i] &#x3D; i;</span><br><span class="line">			&#125;</span><br><span class="line"></span><br><span class="line">			public static int findTop(int nowAt) &#123;</span><br><span class="line">				return Up[nowAt] &#x3D;&#x3D; nowAt ? nowAt : Up[nowAt] &#x3D; findTop(Up[nowAt]);</span><br><span class="line">			&#125;</span><br><span class="line">			public static void Untiy(int a,int b) &#123;</span><br><span class="line">				a &#x3D; findTop(a);b &#x3D; findTop(b);</span><br><span class="line">				Up[a] &#x3D; b;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">		public class Global &#123;</span><br><span class="line">			public static List&lt;Road&gt; rd;</span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">		static void Main(string[] args) </span><br><span class="line">		&#123;</span><br><span class="line">			string[] div &#x3D; Console.ReadLine().Split(&#39; &#39;);</span><br><span class="line">			int totNodes &#x3D; Convert.ToInt32(div[0]), totLinks &#x3D; Convert.ToInt32(div[1]);</span><br><span class="line"></span><br><span class="line">			Global.rd &#x3D; new List&lt;Road&gt; &#123; &#125;;</span><br><span class="line">			Union_find.Activate(totNodes + 1);</span><br><span class="line"></span><br><span class="line">			for(int i &#x3D; 0;i &lt; totLinks;i++) &#123;</span><br><span class="line">				div &#x3D; Console.ReadLine().Split(&#39; &#39;);</span><br><span class="line">				Global.rd.Add(new Road() &#123; Fr &#x3D; Convert.ToInt32(div[0]), To &#x3D; Convert.ToInt32(div[1]), Val &#x3D; Convert.ToInt32(div[2]) &#125;);</span><br><span class="line">			&#125;</span><br><span class="line">			Global.rd.Sort(new CompRoad());</span><br><span class="line"></span><br><span class="line">			Int64 _count &#x3D; 0;</span><br><span class="line">			foreach(var it in Global.rd) &#123;</span><br><span class="line">				if(Union_find.findTop(it.Fr) !&#x3D; Union_find.findTop(it.To)) &#123;</span><br><span class="line">					Union_find.Untiy(it.Fr, it.To);</span><br><span class="line">					_count +&#x3D; it.Val;totNodes--;</span><br><span class="line">				&#125;</span><br><span class="line">				if(totNodes &lt;&#x3D; 1) break;</span><br><span class="line">			&#125;</span><br><span class="line"></span><br><span class="line">			if(totNodes &gt; 1) Console.WriteLine(&quot;orz&quot;);</span><br><span class="line">			else Console.WriteLine(_count.ToString());</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

          
        
      
    </div>
    
    
    
  

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://mickey-snow.github.io/2018/08/26/%E5%9F%BA%E4%BA%8E%E5%80%8D%E5%A2%9E%E5%AE%9E%E7%8E%B0%E7%9A%84LCA-%E6%A8%A1%E6%9D%BF/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Mickey-snow">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Mickey-snow's Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/08/26/%E5%9F%BA%E4%BA%8E%E5%80%8D%E5%A2%9E%E5%AE%9E%E7%8E%B0%E7%9A%84LCA-%E6%A8%A1%E6%9D%BF/" itemprop="url">基于倍增实现的LCA 模板</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建时间" itemprop="dateCreated datePublished" datetime="2018-08-26T00:00:00+08:00">
                2018-08-26
              </time>
            

            
              <span class="post-meta-divider">|</span>
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-check-o"></i>
              </span>
              
                <span class="post-meta-item-text">修改时间&#58;</span>
              
              <time title="修改时间" itemprop="dateModified" datetime="2020-04-07T12:00:03+08:00">
                2020-04-07
              </time>
            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E6%A8%A1%E6%9D%BF%E5%92%8CAPI/" itemprop="url" rel="index">
                    <span itemprop="name">模板和API</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          
            <div class="post-wordcount">
              
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Words count in article&#58;</span>
                
                <span title="Words count in article">
                  385 character(s)
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Reading time &asymp;</span>
                
                <span title="Reading time">
                  2 minute(s)
                </span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body han-init-context" itemprop="articleBody">

      
      

      
        
          
            <p>代码对应题目 <a href="https://www.luogu.org/problemnew/show/P3379" target="_blank" rel="noopener">洛谷P3379</a></p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> MAXNODE 500050	<span class="comment">//最大可能的节点数</span></span></span><br><span class="line"><span class="comment">//无向图 G</span></span><br><span class="line"><span class="built_in">std</span>::<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; G[MAXNODE];</span><br><span class="line"><span class="comment">//倍增预处理</span></span><br><span class="line"><span class="keyword">int</span> up[MAXNODE][<span class="number">20</span>];</span><br><span class="line"><span class="comment">//深度	-	根</span></span><br><span class="line"><span class="keyword">int</span> depth[MAXNODE], root;</span><br><span class="line"></span><br><span class="line"><span class="comment">//生成一颗有根树 &amp; 计算深度 &amp; 倍增预处理</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">dfs</span><span class="params">(<span class="keyword">const</span> <span class="keyword">int</span> rootNow, <span class="keyword">const</span> <span class="keyword">int</span> &amp;fa = <span class="number">-1</span>)</span> </span>&#123;	<span class="comment">//当前节点和当前节点的父节点</span></span><br><span class="line">	depth[rootNow] = depth[fa] + <span class="number">1</span>;	<span class="comment">//当前节点深度等于父节点深度加一</span></span><br><span class="line">	<span class="built_in">memset</span>(up[rootNow], <span class="number">-1</span>, <span class="keyword">sizeof</span>(up[rootNow])); *up[rootNow] = fa;</span><br><span class="line"></span><br><span class="line">	<span class="comment">//计算倍增</span></span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; <span class="number">20</span>; i++)</span><br><span class="line">		up[rootNow][i] = up[up[rootNow][i - <span class="number">1</span>]][i - <span class="number">1</span>];</span><br><span class="line">		<span class="comment">//2^k = 2^(k-1) * 2</span></span><br><span class="line"></span><br><span class="line">	<span class="comment">//递归处理子节点</span></span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp;it : G[rootNow])</span><br><span class="line">		<span class="keyword">if</span> (depth[it] == <span class="number">-1</span>)</span><br><span class="line">			dfs(it, rootNow);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//求a和b的LCA</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">LCA</span><span class="params">(<span class="keyword">int</span> a, <span class="keyword">int</span> b)</span> </span>&#123;</span><br><span class="line">	<span class="keyword">if</span> (depth[a] &lt; depth[b])<span class="built_in">std</span>::swap(a, b); <span class="comment">//确保a的深度不小于b</span></span><br><span class="line"></span><br><span class="line">	<span class="comment">//将A移动到同一深度</span></span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> x = <span class="number">19</span>; x &gt;= <span class="number">0</span>; x--)</span><br><span class="line">		<span class="keyword">if</span> (depth[a] - (<span class="number">1</span> &lt;&lt; x) &gt;= depth[b])</span><br><span class="line">			a = up[a][x];</span><br><span class="line"></span><br><span class="line">	<span class="keyword">if</span> (a == b)<span class="keyword">return</span> a;</span><br><span class="line"></span><br><span class="line">	<span class="comment">//利用倍增同时移动两个节点</span></span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> x = <span class="number">19</span>; x &gt;= <span class="number">0</span>; x--)<span class="comment">//移动到a,b为LCA的两个子节点时停止</span></span><br><span class="line">		<span class="keyword">if</span> (up[a][x] != <span class="number">-1</span> &amp;&amp; up[a][x] != up[b][x]) &#123;</span><br><span class="line">			a = up[a][x]; b = up[b][x];</span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> up[a][<span class="number">0</span>];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="built_in">memset</span>(depth, <span class="number">-1</span>, <span class="keyword">sizeof</span>(depth));</span><br><span class="line"></span><br><span class="line">	<span class="keyword">int</span> totNode, totQuery, fr, to;</span><br><span class="line">	</span><br><span class="line">	<span class="comment">//Read</span></span><br><span class="line">	<span class="built_in">scanf</span>(<span class="string">"%d%d%d"</span>, &amp;totNode, &amp;totQuery, &amp;root);</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; totNode; i++) &#123;</span><br><span class="line">		<span class="built_in">scanf</span>(<span class="string">"%d%d"</span>, &amp;fr, &amp;to);</span><br><span class="line">		G[--fr].push_back(--to); G[to].push_back(fr);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	dfs(--root);</span><br><span class="line"></span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; totQuery; i++) &#123;</span><br><span class="line">		<span class="built_in">scanf</span>(<span class="string">"%d%d"</span>, &amp;fr, &amp;to);</span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">"%d\n"</span>, LCA(fr - <span class="number">1</span>, to - <span class="number">1</span>) + <span class="number">1</span>);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	system(<span class="string">"pause"</span>);</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
          
        
      
    </div>
    
    
    
  

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://mickey-snow.github.io/2018/08/25/CF1029C/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Mickey-snow">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Mickey-snow's Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/08/25/CF1029C/" itemprop="url">【题解】CF1029C</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建时间" itemprop="dateCreated datePublished" datetime="2018-08-25T00:00:00+08:00">
                2018-08-25
              </time>
            

            
              <span class="post-meta-divider">|</span>
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-check-o"></i>
              </span>
              
                <span class="post-meta-item-text">修改时间&#58;</span>
              
              <time title="修改时间" itemprop="dateModified" datetime="2020-04-07T12:00:03+08:00">
                2020-04-07
              </time>
            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E9%A2%98%E8%A7%A3/" itemprop="url" rel="index">
                    <span itemprop="name">题解</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          
            <div class="post-wordcount">
              
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Words count in article&#58;</span>
                
                <span title="Words count in article">
                  822 character(s)
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Reading time &asymp;</span>
                
                <span title="Reading time">
                  3 minute(s)
                </span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body han-init-context" itemprop="articleBody">

      
      

      
        
          
            <p><a href="http://codeforces.com/problemset/problem/2029/C" target="_blank" rel="noopener">CF1029C</a> <em>Maximal Intersection</em> : 暴力</p>
<p>题目大意：给定 $n$ 个区间，你需要在当中去掉一个，求剩下区间交的长度。这里长度是指区间右端点数值减去左端点，例如区间 $[1,2]$ 长度为 $1$.区间交指区间相交的部分，例如区间 $[2,5]$ 和区间 $[3,8]$ 的区间交为 $[3,5]$.</p>
<p>在这题中，$n$ 高达 $3 \times 10^5$ ，很容易让人想到贪心，去掉区间长度最小的。但是这么做是错误的，因为这个最小的区间位置是不确定的，很有可能是这样的情况：</p>
<img src="/2018/08/25/CF1029C/30378%5B1%5D.png" class="">
<p>这种情况下，正解应该是去掉橘色的线段，而我们的贪心却去掉了黑色的。</p>
<p>不得不说这题的数据范围非常具有欺骗性，尽管 $n$ 最高有可能达到 $3 \times 10^5$ ，我们依然可以在 $O(N)$ 的时间复杂度内计算出一个数组 $a$, 其中 $a_i$ 代表去掉区间 $i$ 后所有区间的区间并。</p>
<p>这里给出合并两个区间的代码，它很好理解：</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">cg</span> &#123;</span></span><br><span class="line">	<span class="keyword">int</span> fr, to;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function">cg <span class="title">Range</span><span class="params">(cg a, cg b)</span> </span>&#123;</span><br><span class="line">	cg ret;</span><br><span class="line">	ret.fr = <span class="built_in">std</span>::max(a.fr, b.fr); ret.to = <span class="built_in">std</span>::min(a.to, b.to);</span><br><span class="line">	<span class="keyword">return</span> ret;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>cg是为了保存一个区间写的结构体。记合并区间 $A$ 和 $B$ 为 $A \bigotimes B$ .</p>
<p>当我们合并一堆区间的时候，无论按照什么顺序合并，结果一定一样。换句话说，$\bigotimes$ 运算满足交换律：</p>
<script type="math/tex; mode=display">A \bigotimes B \bigotimes C = A \bigotimes C \bigotimes B</script><p>假设题目给定的区间为 $b_i$ ，那么 </p>
<script type="math/tex; mode=display">a_i = b_0 \bigotimes \cdots \bigotimes b_{i-1} \bigotimes b_{i+1} \bigotimes \cdots \bigotimes b_{n-1}</script><p>将这个过程分为两部分，第一部分为所有 $b<em>j | j &lt; i$ ,第二部分为所有 $b_j | j &gt; i$ .可以发现我们没有必要单独为每一个 $a$ 计算一遍这个过程，将 $a_i$ 的第一部分添加一个 $b_i$ 就是 $a</em>{i+1}$ 的第一部分了，按照这个思路，计算所有的第一部分时间复杂度为 $O(N)$, 第二部分也是。</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">cg now = *seg;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; totSeg; i++) &#123;</span><br><span class="line">	arr[i] = now;</span><br><span class="line">	now = Range(now, seg[i]);</span><br><span class="line">&#125;</span><br><span class="line">now = seg[totSeg - <span class="number">1</span>];</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = totSeg - <span class="number">2</span>; i &gt;= <span class="number">0</span>; i--) &#123;</span><br><span class="line">	arr[i] = Range(arr[i], now);</span><br><span class="line">	now = Range(now, seg[i]);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>代码中 $arr$ 就是之前提到的 $a$ 数组， $seg$ 就是之前提到的 $b$ 数组。</p>
<p>执行完这一过程，$a$ 数组即为满足条件的数组。最后再扫一遍，求出一个最大值即可。总的时间复杂度仍然为 $O(N)$.</p>
<p>代码如下：</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">cg</span> &#123;</span></span><br><span class="line">	<span class="keyword">int</span> fr, to;</span><br><span class="line">&#125;;</span><br><span class="line">cg seg[<span class="number">300500</span>], arr[<span class="number">300500</span>];</span><br><span class="line"></span><br><span class="line"><span class="function">cg <span class="title">Range</span><span class="params">(cg a, cg b)</span> </span>&#123;</span><br><span class="line">	cg ret;</span><br><span class="line">	ret.fr = <span class="built_in">std</span>::max(a.fr, b.fr); ret.to = <span class="built_in">std</span>::min(a.to, b.to);</span><br><span class="line">	<span class="keyword">return</span> ret;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="keyword">int</span> totSeg, fr, to;</span><br><span class="line"></span><br><span class="line">	<span class="built_in">cin</span> &gt;&gt; totSeg;</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; totSeg; i++) &#123;</span><br><span class="line">		<span class="built_in">cin</span> &gt;&gt; fr &gt;&gt; to;</span><br><span class="line">		seg[i] = &#123; fr,to &#125;;</span><br><span class="line">		arr[i] = &#123; INT_MIN,INT_MAX &#125;;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	cg now = *seg;</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; totSeg; i++) &#123;</span><br><span class="line">		arr[i] = now;</span><br><span class="line">		now = Range(now, seg[i]);</span><br><span class="line">	&#125;</span><br><span class="line">	now = seg[totSeg - <span class="number">1</span>];</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = totSeg - <span class="number">2</span>; i &gt;= <span class="number">0</span>; i--) &#123;</span><br><span class="line">		arr[i] = Range(arr[i], now);</span><br><span class="line">		now = Range(now, seg[i]);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">int</span> _max = <span class="number">0</span>;</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; totSeg; i++)</span><br><span class="line">		_max=<span class="built_in">std</span>::max(_max, arr[i].to - arr[i].fr);</span><br><span class="line"></span><br><span class="line">	<span class="built_in">cout</span> &lt;&lt; _max &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line"></span><br><span class="line">	<span class="comment">//system("pause");</span></span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
          
        
      
    </div>
    
    
    
  

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://mickey-snow.github.io/2018/08/25/CF1029D%20Concatenated%20Multiples/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Mickey-snow">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Mickey-snow's Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/08/25/CF1029D%20Concatenated%20Multiples/" itemprop="url">【题解】CF1029D</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建时间" itemprop="dateCreated datePublished" datetime="2018-08-25T00:00:00+08:00">
                2018-08-25
              </time>
            

            
              <span class="post-meta-divider">|</span>
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-check-o"></i>
              </span>
              
                <span class="post-meta-item-text">修改时间&#58;</span>
              
              <time title="修改时间" itemprop="dateModified" datetime="2020-04-07T12:00:03+08:00">
                2020-04-07
              </time>
            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E9%A2%98%E8%A7%A3/" itemprop="url" rel="index">
                    <span itemprop="name">题解</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          
            <div class="post-wordcount">
              
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Words count in article&#58;</span>
                
                <span title="Words count in article">
                  739 character(s)
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Reading time &asymp;</span>
                
                <span title="Reading time">
                  3 minute(s)
                </span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body han-init-context" itemprop="articleBody">

      
      

      
        
          
            <p>给定 $n$ 个整数分别为 $a_i$ ,任选两个数 $a_i, a_j$ 可以合并为 $\overline{a_ia_j}$ （$i \ne j$）.例如 $12$ 和 $345$ 可以合并为 $12345$. 问在所有可行的合并后的整数中，有多少个可以被 $k$ 整除。</p>
<p>这题思路并不难，与处理一下即可。首先，我们需要知道如果合并两个整数得到 $\overline{xy}$ ,那么这就等价于</p>
<script type="math/tex; mode=display">x \times (log_{10}y+1)+y</script><p>为了方便起见，我们定义一个函数 $cnt(i) = i$ 在十进制下的位数。例如 $cnt(123) = 3$.</p>
<p>接下来我们预处理出来一个二维数组 $mp_{w,x} = $ 满足 $a_i \times 10^w \equiv x (mod \space k)$  的所有 $a_i$ 的个数。由于题中给出的数据最大不超过10位数，所以完成这一步的时间复杂度为 $O(N)$. 但是，虽然时间复杂度看上去非常令人乐观，但是这么做的空间复杂度却达到了 $O(K)$ ,难以承受。一种解决的办法是使用 $map$ ，将这个二维数组变成一个一维的 $map$ 数组，此后每次操作时间复杂度都会加上一个 $log$ ，整个预处理为 $O(N \space logN)$ .</p>
<p>与处理完成之后，我们回过头再去看前面给出的公式 $\overline{xy} = x \times (log_{10}y+1)+y$ . 这里 $x,y \in a$ .因此我们可以枚举一下 $y$ ,符合条件的 $x$ 的个数就是</p>
<script type="math/tex; mode=display">mp_{cnt(y) \space , \space (k-y) \space mod \space k}</script><p>将这些累加起来，在这个过程中如果存在 $\overline{yy} \equiv 0 (mod \space k)$ 说明有一个是依靠将自己拼在自己后面得到的，将答案减去一。</p>
<p>需要特别注意的是，这题卡常数，即便是时间复杂度正确也有可能会超出时间限制，在这里我使用了一点额外的空间，预先保存了一些频繁使用的数值，避免多次的计算。</p>
<p>代码如下，这份代码在 $2000ms$ 的限制下使用时间大约在 $1800ms$.</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">long</span> <span class="keyword">long</span> cult[] = &#123; <span class="number">1</span>,<span class="number">10</span>,<span class="number">100</span>,<span class="number">1000</span>,<span class="number">10000</span>,<span class="number">100000</span>,<span class="number">1000000</span>,<span class="number">10000000</span>,<span class="number">100000000</span>,<span class="number">1000000000</span>,(<span class="keyword">long</span> <span class="keyword">long</span>)<span class="number">10000000000</span>,(<span class="keyword">long</span> <span class="keyword">long</span>)<span class="number">100000000000</span> &#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">inline</span> <span class="keyword">int</span> <span class="title">read</span><span class="params">()</span> </span>&#123;</span><br><span class="line">	<span class="keyword">int</span> X = <span class="number">0</span>, w = <span class="number">0</span>; <span class="keyword">char</span> ch = <span class="number">0</span>;</span><br><span class="line">	<span class="keyword">while</span> (!<span class="built_in">std</span>::<span class="built_in">isdigit</span>(ch)) &#123; w |= ch == <span class="string">'-'</span>; ch = <span class="built_in">std</span>::getchar(); &#125;</span><br><span class="line">	<span class="keyword">while</span> (<span class="built_in">std</span>::<span class="built_in">isdigit</span>(ch)) X = (X &lt;&lt; <span class="number">3</span>) + (X &lt;&lt; <span class="number">1</span>) + (ch ^ <span class="number">48</span>), ch = <span class="built_in">std</span>::getchar();</span><br><span class="line">	<span class="keyword">return</span> w ? -X : X;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">Cnt</span><span class="params">(<span class="keyword">int</span> x)</span> </span>&#123;</span><br><span class="line">	<span class="keyword">int</span> _count = <span class="number">0</span>;</span><br><span class="line">	<span class="keyword">while</span> (x &gt; <span class="number">0</span>) &#123;</span><br><span class="line">		x /= <span class="number">10</span>; _count++;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> _count;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> MAXN 200050</span></span><br><span class="line"><span class="keyword">int</span> num[MAXN], mod[MAXN];</span><br><span class="line"><span class="built_in">map</span>&lt;<span class="keyword">int</span>, <span class="keyword">int</span>&gt; mp[<span class="number">11</span>];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="keyword">int</span> totNums = read(), k = read();</span><br><span class="line"></span><br><span class="line">	<span class="comment">//read</span></span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; totNums; i++) &#123;</span><br><span class="line">		num[i] = read(); mod[i] = num[i] % k;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; totNums; i++)</span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">1</span>; j &lt; <span class="number">11</span>; j++)</span><br><span class="line">			mp[j][(<span class="keyword">int</span>)(cult[j] % k*mod[i] % k)]++;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">int</span> its; <span class="keyword">long</span> <span class="keyword">long</span> _count = <span class="number">0</span>;</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; totNums; i++) &#123;</span><br><span class="line">		its = Cnt(num[i]);</span><br><span class="line">		<span class="keyword">if</span> (mod[i] != <span class="number">0</span>)</span><br><span class="line">			_count += mp[its][k - mod[i]];</span><br><span class="line">		<span class="keyword">else</span> _count += mp[its][<span class="number">0</span>];</span><br><span class="line"></span><br><span class="line">		<span class="keyword">if</span> ((cult[its] % k*mod[i] % k + mod[i]) % k == <span class="number">0</span>)</span><br><span class="line">			_count--;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="built_in">cout</span> &lt;&lt; _count &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line"></span><br><span class="line">	<span class="comment">//system("pause");</span></span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
          
        
      
    </div>
    
    
    
  

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://mickey-snow.github.io/2018/08/24/CF510C%20Fox%20And%20Names/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Mickey-snow">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Mickey-snow's Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/08/24/CF510C%20Fox%20And%20Names/" itemprop="url">【题解】CF510C</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建时间" itemprop="dateCreated datePublished" datetime="2018-08-24T00:00:00+08:00">
                2018-08-24
              </time>
            

            
              <span class="post-meta-divider">|</span>
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-check-o"></i>
              </span>
              
                <span class="post-meta-item-text">修改时间&#58;</span>
              
              <time title="修改时间" itemprop="dateModified" datetime="2020-04-07T12:00:03+08:00">
                2020-04-07
              </time>
            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E9%A2%98%E8%A7%A3/" itemprop="url" rel="index">
                    <span itemprop="name">题解</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          
            <div class="post-wordcount">
              
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Words count in article&#58;</span>
                
                <span title="Words count in article">
                  432 character(s)
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Reading time &asymp;</span>
                
                <span title="Reading time">
                  2 minute(s)
                </span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body han-init-context" itemprop="articleBody">

      
      

      
        
          
            <p><a href="http://codeforces.com/contest/510/problem/C" target="_blank" rel="noopener">CF510C</a> <em>Fox And Names</em> : 拓扑排序</p>
<p>题目大意：给定 $n$ 个字符串，求出一个字典是的这 $n$ 个字符串是已经按照字典序排好序了的。</p>
<p>如果我们有 $n$ 个字符串，我们至多可以得到 $n-1$ 个类似于字符 $s$ 小于字符 $t$ 的约束条件。假设 $ a<em>i $ 为第 $i$ 个字符串，那么如果它们按照字典序排列好的话一定满足 $\forall a_i \leq a</em>{i+1}$ .模拟一下比较字典序的过程，要比较两个字符串字典序时我们可以创建两个指针一位位地往后面扫，在这里也一样，扫到第一个不相同的位置，就可以得到 $a<em>i[j] &lt; a</em>{i+1}[j]$ .</p>
<p>之后，将26个字母当作结点，按照这些条件进行一次拓扑排序即可，如果无法排序则说明这样的字典不存在。</p>
<p>代码如下：</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; G[<span class="number">26</span>];</span><br><span class="line"><span class="keyword">int</span> in[<span class="number">26</span>] = &#123;&#125;;</span><br><span class="line"><span class="keyword">char</span> pos[<span class="number">26</span>], *nowAt = pos;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="keyword">int</span> totStrings, it; <span class="built_in">cin</span> &gt;&gt; totStrings;</span><br><span class="line">	<span class="built_in">string</span> a, b;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">if</span> (totStrings == <span class="number">1</span>) &#123;</span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">char</span> it = <span class="string">'a'</span>; it &lt;= <span class="string">'z'</span>; it++)<span class="built_in">cout</span> &lt;&lt; it;</span><br><span class="line">		<span class="built_in">putchar</span>(<span class="string">'\n'</span>); <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="built_in">cin</span> &gt;&gt; b;</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> now = <span class="number">1</span>; now &lt; totStrings; now++) &#123;</span><br><span class="line">		a = b; <span class="built_in">cin</span> &gt;&gt; b;</span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; a.length(); i++) &#123;</span><br><span class="line">			<span class="keyword">if</span> (i &gt;= b.length()) &#123; <span class="built_in">puts</span>(<span class="string">"Impossible"</span>);<span class="keyword">return</span> <span class="number">0</span>; &#125;</span><br><span class="line">			<span class="keyword">if</span> (a[i] != b[i]) &#123;</span><br><span class="line">				G[a[i] - <span class="string">'a'</span>].push_back(b[i] - <span class="string">'a'</span>);</span><br><span class="line">				in[b[i] - <span class="string">'a'</span>]++;</span><br><span class="line">				<span class="keyword">break</span>;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="built_in">queue</span>&lt;<span class="keyword">int</span>&gt; que;</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">26</span>; i++)<span class="keyword">if</span> (in[i] == <span class="number">0</span>)que.push(i);</span><br><span class="line">	<span class="keyword">while</span> (!que.empty()) &#123;</span><br><span class="line">		it = que.front(); que.pop();</span><br><span class="line">		*nowAt++ = it;</span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp;_it : G[it])</span><br><span class="line">			<span class="keyword">if</span> (--in[_it] == <span class="number">0</span>)</span><br><span class="line">				que.push(_it);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">if</span> (nowAt != pos + <span class="number">26</span>)<span class="built_in">puts</span>(<span class="string">"Impossible"</span>);</span><br><span class="line">	<span class="keyword">else</span> <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">26</span>; i++)<span class="built_in">putchar</span>(pos[i] + <span class="string">'a'</span>);</span><br><span class="line">	<span class="built_in">putchar</span>(<span class="string">'\n'</span>);</span><br><span class="line"></span><br><span class="line">	<span class="comment">//system("pause");</span></span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

          
        
      
    </div>
    
    
    
  

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://mickey-snow.github.io/2018/08/24/CF920E_Connected_Components/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Mickey-snow">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Mickey-snow's Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/08/24/CF920E_Connected_Components/" itemprop="url">【题解】CF920E</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建时间" itemprop="dateCreated datePublished" datetime="2018-08-24T00:00:00+08:00">
                2018-08-24
              </time>
            

            
              <span class="post-meta-divider">|</span>
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-check-o"></i>
              </span>
              
                <span class="post-meta-item-text">修改时间&#58;</span>
              
              <time title="修改时间" itemprop="dateModified" datetime="2020-04-07T12:00:03+08:00">
                2020-04-07
              </time>
            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E9%A2%98%E8%A7%A3/" itemprop="url" rel="index">
                    <span itemprop="name">题解</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          
            <div class="post-wordcount">
              
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Words count in article&#58;</span>
                
                <span title="Words count in article">
                  1.1k character(s)
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Reading time &asymp;</span>
                
                <span title="Reading time">
                  5 minute(s)
                </span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body han-init-context" itemprop="articleBody">

      
      

      
        
          
            <p>题目大意：给定一张无向图 $ G $ , 求 $ G $ 的补图的连通块的个数。</p>
<p>这里补图就是完全图 $ K $ 去掉所有 $ G $ 中的连边，也就是断掉所有原本连着的两个点，连上所有原本没有连接的两个点。记 $G$ 的补图为 $T$ 。如果点 $s$ 和点 $t$ 处于同一个连通块中，那么一定有一条路径可以从 $s$ 到 $t$ ,所有满足上述条件的 $s$ 和 $t$ 点的集合称为一个连通块。</p>
<p>我们先将所有的边读入进来，假定一开始所有的点都不属于任何一个连通块，然后将所有的点扫一遍，如果发现一个点 $s$  不属于任何一个连通块，以 $s$ 为起点广度优先搜索，枚举一下点 $t$ ，如果 $s$ 和 $t$ 在 $G$ 中没有连边，就将 $t$ 加入队列中，与此同时记录一下当前连通块的大小。这么做是正确的，除了这个补图有点非同寻常以外几乎与正常地求连通块没有区别，但是，这么做每一次枚举 $t$ 都要尝试所有可能的点，时间复杂度高达 $O(N^2)$，难以承受。</p>
<p>BFS代码如下，我们可以以这个为模型考虑优化的方案。</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> _count(<span class="keyword">const</span> <span class="keyword">int</span> &amp;start) &#123;</span><br><span class="line">	<span class="built_in">queue</span>&lt;<span class="keyword">int</span>&gt; que; que.push(start);</span><br><span class="line">	vis[start] = <span class="literal">true</span>;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">int</span> nowAt, _cnt = <span class="number">1</span>, i;</span><br><span class="line">	<span class="keyword">while</span> (!que.empty()) &#123;</span><br><span class="line">		nowAt = que.front(); que.pop();</span><br><span class="line">		sort(G[nowAt].begin(), G[nowAt].end());</span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> to = i = <span class="number">0</span>; to &lt; totPoints; to++) &#123;</span><br><span class="line">			<span class="keyword">if</span> (i &lt; G[nowAt].size() &amp;&amp; to == G[nowAt][i]) &#123; i++; <span class="keyword">continue</span>; &#125;</span><br><span class="line">			<span class="keyword">if</span> (!vis[to]) &#123; vis[to] = <span class="literal">true</span>; que.push(to); _cnt++; &#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> _cnt;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>时间超出限制的根本原因就是枚举 $t$ 的时候浪费了大量的计算能力，事实上，大部分的 $t$ 都已经属于其它的连通块了，因此永远不可能用得上，能不能不枚举这些点呢？其实是可以的，如果发现了一个 $t$ 可以加入当前的连通块，我们将其删掉就可以了，这可以用一种数据结构在 $O(1)$ 的时间复杂度内完成这一操作。</p>
<p>套上了链表，我们还可以用一个集合 $S$ 保存图 $G$ 中所有的连边，最后判断一下如果 $s \to t$ 这条边不在集合 $S$ 中，说明这是一个合法的 $t$. </p>
<p>AC代码如下：</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">//链表----------------------------</span></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Node</span> &#123;</span></span><br><span class="line">	<span class="keyword">int</span> val; Node *nxt;</span><br><span class="line">	<span class="function"><span class="keyword">void</span> <span class="title">DeleteNext</span><span class="params">()</span> </span>&#123;	</span><br><span class="line">		<span class="keyword">if</span> (<span class="keyword">this</span>-&gt;nxt == <span class="literal">nullptr</span>)<span class="keyword">return</span>;</span><br><span class="line">		Node *it = <span class="keyword">this</span>-&gt;nxt; <span class="keyword">this</span>-&gt;nxt = it-&gt;nxt;</span><br><span class="line">		it = <span class="literal">nullptr</span>;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;*frnt = <span class="literal">nullptr</span>;</span><br><span class="line"><span class="function">Node* <span class="title">newNode</span><span class="params">()</span> </span>&#123;</span><br><span class="line">	Node* ext = (Node*)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(Node));</span><br><span class="line">	ext-&gt;nxt = <span class="literal">nullptr</span>; <span class="keyword">return</span> ext;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">build</span><span class="params">(<span class="keyword">size_t</span> siz)</span> </span>&#123; <span class="comment">//在一开始，所有的点都在链表中</span></span><br><span class="line">	frnt = newNode(); frnt-&gt;val = <span class="number">0</span>;</span><br><span class="line">	Node *it = frnt, *ext;</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; siz; i++) &#123;</span><br><span class="line">		ext = newNode(); ext-&gt;val = i;</span><br><span class="line">		it-&gt;nxt = ext; it = ext;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//-------------------------------------</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> MAXPOINTS 200005</span></span><br><span class="line"><span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; cnt;	<span class="comment">//每一个连通块包含的点的个数</span></span><br><span class="line"><span class="keyword">int</span> totPoints, totEdges;</span><br><span class="line"><span class="keyword">bool</span> vis[MAXPOINTS];</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Edge</span> &#123;</span></span><br><span class="line">	<span class="keyword">int</span> fr, to;</span><br><span class="line">	<span class="keyword">bool</span> <span class="keyword">operator</span> &lt; (Edge comp) <span class="keyword">const</span> &#123;</span><br><span class="line">		<span class="keyword">return</span> fr == comp.fr ? to &lt; comp.to : fr &lt; comp.fr;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="built_in">set</span>&lt;Edge&gt; G;	<span class="comment">//图G</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> _count(<span class="keyword">const</span> <span class="keyword">int</span> &amp;start) &#123;<span class="comment">//广搜</span></span><br><span class="line">	<span class="built_in">queue</span>&lt;<span class="keyword">int</span>&gt; que; que.push(start);</span><br><span class="line">	<span class="keyword">int</span> nowAt, _cnt = <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">while</span> (!que.empty()) &#123;</span><br><span class="line">		nowAt = que.front(); que.pop();</span><br><span class="line">		<span class="keyword">for</span> (Node *it = frnt; it != <span class="literal">nullptr</span> &amp;&amp; it-&gt;nxt != <span class="literal">nullptr</span>;) &#123;<span class="comment">//我也不知道这里到底循环了多少次</span></span><br><span class="line">			<span class="keyword">if</span> (vis[it-&gt;nxt-&gt;val]) &#123; it-&gt;DeleteNext(); <span class="keyword">continue</span>; &#125;</span><br><span class="line">			<span class="keyword">if</span> (G.count(&#123; nowAt,it-&gt;nxt-&gt;val &#125;) || it-&gt;nxt-&gt;val == nowAt) &#123; it = it-&gt;nxt; <span class="keyword">continue</span>; &#125;</span><br><span class="line">			vis[it-&gt;nxt-&gt;val] = <span class="literal">true</span>; _cnt++;</span><br><span class="line">			que.push(it-&gt;nxt-&gt;val);</span><br><span class="line">			it-&gt;DeleteNext();</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> _cnt;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="built_in">memset</span>(vis, <span class="literal">false</span>, <span class="keyword">sizeof</span>(vis));</span><br><span class="line">	<span class="keyword">int</span> a, b;</span><br><span class="line"></span><br><span class="line">	<span class="built_in">cin</span> &gt;&gt; totPoints &gt;&gt; totEdges;</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; totEdges; i++) &#123;</span><br><span class="line">		<span class="built_in">scanf</span>(<span class="string">"%d%d"</span>, &amp;a, &amp;b); --a; --b;</span><br><span class="line">		G.insert(&#123; a,b &#125;); G.insert(&#123; b,a &#125;);</span><br><span class="line">	&#125;</span><br><span class="line">	build(totPoints);</span><br><span class="line"></span><br><span class="line">	<span class="keyword">for</span> (Node* it = frnt; it != <span class="literal">nullptr</span>; it = it-&gt;nxt) &#123;</span><br><span class="line">		<span class="keyword">if</span> (vis[it-&gt;val])<span class="keyword">continue</span>;</span><br><span class="line">		vis[it-&gt;val] = <span class="literal">true</span>;</span><br><span class="line">		cnt.push_back(_count(it-&gt;val));</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="built_in">cout</span> &lt;&lt; cnt.size() &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">	sort(cnt.begin(), cnt.end());<span class="comment">//输出时要是排好序了的</span></span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp;it : cnt)</span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">"%d "</span>, it);</span><br><span class="line">	<span class="built_in">putchar</span>(<span class="string">'\n'</span>);</span><br><span class="line"></span><br><span class="line">	<span class="comment">//system("pause");</span></span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p> <del>其实，如果去掉链表的部分不看，代码还是非常直观的</del> </p>
<p>有了链表的优化可以将所有枚举将为 $N$ 次，由于每次判断是否在集合中为 $O(logN)$ ，所以时间复杂度为 <del>$O$(玄学)</del> $O(NlogN)$ ?</p>

          
        
      
    </div>
    
    
    
  

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://mickey-snow.github.io/2018/08/23/CF437C%20The%20Child%20and%20Toy%20/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Mickey-snow">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Mickey-snow's Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/08/23/CF437C%20The%20Child%20and%20Toy%20/" itemprop="url">【题解】CF437C</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建时间" itemprop="dateCreated datePublished" datetime="2018-08-23T00:00:00+08:00">
                2018-08-23
              </time>
            

            
              <span class="post-meta-divider">|</span>
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-check-o"></i>
              </span>
              
                <span class="post-meta-item-text">修改时间&#58;</span>
              
              <time title="修改时间" itemprop="dateModified" datetime="2020-04-07T12:00:03+08:00">
                2020-04-07
              </time>
            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E9%A2%98%E8%A7%A3/" itemprop="url" rel="index">
                    <span itemprop="name">题解</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          
            <div class="post-wordcount">
              
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Words count in article&#58;</span>
                
                <span title="Words count in article">
                  226 character(s)
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Reading time &asymp;</span>
                
                <span title="Reading time">
                  1 minute(s)
                </span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body han-init-context" itemprop="articleBody">

      
      

      
        
          
            <p>由于删除的顺序不同，每个点会为我们带来不同的代价。</p>
<p>但是无论我们按照什么顺序删除，我们每删除掉一个点，这个点的所有连边都会消失，如果从边的角度考虑，删除每一条边的代价最小是这条边所连两个点中价值最小的，所以可以贪心进行求解，时间复杂度为 $O(N)$.</p>
<p>代码如下：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">using System;</span><br><span class="line"></span><br><span class="line">namespace CF437C</span><br><span class="line">&#123;</span><br><span class="line">	class Program </span><br><span class="line">	&#123;</span><br><span class="line">		static void Main(string[] args) </span><br><span class="line">		&#123;</span><br><span class="line">			string[] inp &#x3D; Console.ReadLine().Split(&#39; &#39;);</span><br><span class="line">			int totPoints &#x3D; Convert.ToInt32(inp[0]), totEdges &#x3D; Convert.ToInt32(inp[1]), a, b;</span><br><span class="line">			int[] w &#x3D; new int[totPoints];</span><br><span class="line"></span><br><span class="line">			inp &#x3D; Console.ReadLine().Split(&#39; &#39;);</span><br><span class="line">			for(int i &#x3D; 0;i &lt; totPoints;i++)</span><br><span class="line">				w[i] &#x3D; Convert.ToInt32(inp[i]);</span><br><span class="line"></span><br><span class="line">			Int64 cnt &#x3D; 0;</span><br><span class="line">			for(int i &#x3D; 0;i &lt; totEdges;i++) &#123;</span><br><span class="line">				inp &#x3D; Console.ReadLine().Split(&#39; &#39;);</span><br><span class="line">				cnt +&#x3D; Math.Min(w[Convert.ToInt32(inp[0]) - 1], w[Convert.ToInt32(inp[1]) - 1]);</span><br><span class="line">			&#125;</span><br><span class="line">			Console.WriteLine(cnt.ToString());</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

          
        
      
    </div>
    
    
    
  

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://mickey-snow.github.io/2018/08/23/%E6%97%A0%E5%90%91%E5%9B%BE%E7%9A%84%E7%82%B9-%E5%8F%8C%E8%BF%9E%E9%80%9A%E5%88%86%E9%87%8F/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Mickey-snow">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Mickey-snow's Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/08/23/%E6%97%A0%E5%90%91%E5%9B%BE%E7%9A%84%E7%82%B9-%E5%8F%8C%E8%BF%9E%E9%80%9A%E5%88%86%E9%87%8F/" itemprop="url">无向图的点-双连通分量</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建时间" itemprop="dateCreated datePublished" datetime="2018-08-23T00:00:00+08:00">
                2018-08-23
              </time>
            

            
              <span class="post-meta-divider">|</span>
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-check-o"></i>
              </span>
              
                <span class="post-meta-item-text">修改时间&#58;</span>
              
              <time title="修改时间" itemprop="dateModified" datetime="2020-04-07T12:00:03+08:00">
                2020-04-07
              </time>
            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E6%A8%A1%E6%9D%BF%E5%92%8CAPI/" itemprop="url" rel="index">
                    <span itemprop="name">模板和API</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          
            <div class="post-wordcount">
              
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Words count in article&#58;</span>
                
                <span title="Words count in article">
                  236 character(s)
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Reading time &asymp;</span>
                
                <span title="Reading time">
                  1 minute(s)
                </span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body han-init-context" itemprop="articleBody">

      
      

      
        
          
            <figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">define</span> MAXN 200000</span></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Edge</span> &#123;</span></span><br><span class="line">	<span class="keyword">int</span> fr, to;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">int</span> pre[MAXN], bccNo[MAXN], dfs_clock, bcc_cnt;</span><br><span class="line"><span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; G[MAXN], bcc[MAXN];</span><br><span class="line"><span class="built_in">stack</span>&lt;Edge&gt; S;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">dfs</span><span class="params">(<span class="keyword">int</span> nowAt, <span class="keyword">int</span> fa)</span> </span>&#123;</span><br><span class="line">	<span class="keyword">int</span> lowU = pre[nowAt] = dfs_clock++, lowV;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp;v : G[nowAt]) &#123;</span><br><span class="line">		<span class="keyword">if</span> (pre[v] == <span class="number">-1</span>) &#123;</span><br><span class="line">			S.push(&#123; nowAt,v &#125;);</span><br><span class="line">			lowV = dfs(v, nowAt);</span><br><span class="line"></span><br><span class="line">			<span class="keyword">if</span> (lowV &gt; pre[nowAt]) &#123;	<span class="comment">//New BCC</span></span><br><span class="line">				bcc[bcc_cnt].clear();</span><br><span class="line">				<span class="keyword">while</span> (<span class="literal">true</span>) &#123;</span><br><span class="line">					Edge it = S.top(); S.pop();</span><br><span class="line">					<span class="keyword">if</span> (bccNo[it.fr] != bcc_cnt) &#123; bccNo[it.fr] = bcc_cnt; bcc[bcc_cnt].push_back(it.fr); &#125;</span><br><span class="line">					<span class="keyword">if</span> (bccNo[it.to] != bcc_cnt) &#123; bccNo[it.to] = bcc_cnt; bcc[bcc_cnt].push_back(it.to); &#125;</span><br><span class="line">					<span class="keyword">if</span> (it.to == v &amp;&amp; it.fr == nowAt)<span class="keyword">break</span>;</span><br><span class="line">				&#125;bcc_cnt++;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">else</span> <span class="keyword">if</span> (pre[v] &lt; pre[nowAt]) &#123;</span><br><span class="line">			S.push(&#123; nowAt,v &#125;);</span><br><span class="line">			lowU = min(lowU, pre[v]);</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> lowU;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Find_BCC</span><span class="params">(<span class="keyword">int</span> n)</span> </span>&#123;</span><br><span class="line">	<span class="built_in">memset</span>(pre, <span class="number">-1</span>, <span class="keyword">sizeof</span>(pre)); <span class="built_in">memset</span>(bcc, <span class="number">-1</span>, <span class="keyword">sizeof</span>(bcc));</span><br><span class="line">	dfs_clock = bcc_cnt = <span class="number">0</span>;</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; i++)</span><br><span class="line">		dfs(i, <span class="number">-1</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>与求割顶类似，找到一个割顶代表发现一个BCC，栈中<strong>存边</strong>,原因是点-双联通分量中会出现同一个点属于很多个BCC.(比如割顶)</p>

          
        
      
    </div>
    
    
    
  

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://mickey-snow.github.io/2018/08/22/CF1025D%20Recovering%20BST/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Mickey-snow">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Mickey-snow's Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/08/22/CF1025D%20Recovering%20BST/" itemprop="url">【题解】CF1025D</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建时间" itemprop="dateCreated datePublished" datetime="2018-08-22T00:00:00+08:00">
                2018-08-22
              </time>
            

            
              <span class="post-meta-divider">|</span>
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-check-o"></i>
              </span>
              
                <span class="post-meta-item-text">修改时间&#58;</span>
              
              <time title="修改时间" itemprop="dateModified" datetime="2020-04-07T12:00:03+08:00">
                2020-04-07
              </time>
            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E9%A2%98%E8%A7%A3/" itemprop="url" rel="index">
                    <span itemprop="name">题解</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          
            <div class="post-wordcount">
              
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Words count in article&#58;</span>
                
                <span title="Words count in article">
                  626 character(s)
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Reading time &asymp;</span>
                
                <span title="Reading time">
                  2 minute(s)
                </span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body han-init-context" itemprop="articleBody">

      
      

      
        
          
            <p>题目大意：给定一颗二叉搜索树的中序遍历，已知此二叉搜索树所有有连边的两个节点最大公约数都大于 $1$ ,问能否构造出一颗满足条件的二叉搜索树。</p>
<p>开两个二维数组 $lft<em>{i,j}$ 代表区间 $[i,j]$ 能否构造出以 $j$ 为根的搜索树。类似地，二维数组 $rgt</em>{i,j}$ 代表区间 $[i,j]$ 能否构造出以 $i$ 为根的搜索树。</p>
<p>由于题目中给定的是中序遍历，所以原搜索树中任何一个子树都是给定数组 $a$ 的一段连续区间，而且无论是 $lft$ 还是 $rgt$ 代表的都是能否构造出一个根只有一个儿子的子树。可见，如果存在一个节点 $k$ 同时满足 $lft<em>{i,k}$ 和 $rgt</em>{k,j}$ 那么就是说可以构造出来一颗以 $k$ 为根而且有两个儿子的搜索树，我们可以用这个来转移。如果 $k$ 能够成为子树的根，那么我们再来判断一下 $k$ 能否与 $i-1, j+1$ 连边，推导出 $k$ 可能的父节点，也就是 $lft<em>{i-1,l}$ 和 $rgt</em>{i,l+1}$.由于题目没有要求将构造的搜索树输出，所以转移完之后 $k$ 就不重要了，下一步要考虑的根应该是 $i-1$ 和 $l+1$.</p>
<p>如果在某一时刻发现可以以 $k$ 为根，构造出区间  $[1,n]$ 的搜索树。也就是 $i=1,j=n$ ，那么要求的答案就是 Yes,如果执行完了全部循环，说明找不到符合条件的搜索树，答案为 No.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line">using System;</span><br><span class="line"></span><br><span class="line">namespace CF1025D </span><br><span class="line">&#123;</span><br><span class="line">	class Program </span><br><span class="line">	&#123;</span><br><span class="line">		static void Main(string[] args) &#123;</span><br><span class="line">			int totNodes &#x3D; Convert.ToInt32(Console.ReadLine());</span><br><span class="line">			string[] inp &#x3D; Console.ReadLine().Split(&#39; &#39;);</span><br><span class="line">			int[] num &#x3D; new int[totNodes];</span><br><span class="line">			bool[,] lft &#x3D; new bool[totNodes, totNodes], rgt &#x3D; new bool[totNodes, totNodes];</span><br><span class="line"></span><br><span class="line">			for(int i &#x3D; 0;i &lt; totNodes;i++) &#123;</span><br><span class="line">				num[i] &#x3D; Convert.ToInt32(inp[i]);</span><br><span class="line">				lft[i, i] &#x3D; true;rgt[i, i] &#x3D; true;</span><br><span class="line">			&#125;</span><br><span class="line"></span><br><span class="line">			for(int fr &#x3D; totNodes - 1;fr &gt;&#x3D; 0;fr--)</span><br><span class="line">				for(int to &#x3D; fr;to &lt; totNodes;to++) </span><br><span class="line">					for(int root &#x3D; fr;root &lt;&#x3D; to;root++)</span><br><span class="line">						if(lft[fr, root] &amp;&amp; rgt[root, to]) &#123;</span><br><span class="line">							if(fr &#x3D;&#x3D; 0 &amp;&amp; to &#x3D;&#x3D; totNodes - 1) &#123;</span><br><span class="line">								Console.WriteLine(&quot;Yes&quot;);return;</span><br><span class="line">							&#125;</span><br><span class="line"></span><br><span class="line">							if(fr &gt; 0 &amp;&amp; gcd(num[root], num[fr - 1]) &gt; 1) rgt[fr - 1, to] &#x3D; true;</span><br><span class="line">							if(to &lt; totNodes - 1 &amp;&amp; gcd(num[root], num[to + 1]) &gt; 1) lft[fr, to + 1] &#x3D; true;</span><br><span class="line">						&#125;</span><br><span class="line"></span><br><span class="line">			Console.WriteLine(&quot;No&quot;);</span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">		static int gcd(int a,int b) &#123;</span><br><span class="line">			return b &#x3D;&#x3D; 0 ? a : gcd(b, a % b);</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

          
        
      
    </div>
    
    
    
  

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://mickey-snow.github.io/2018/08/21/CF1027C%20Minimum%20Value%20Rectangle/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Mickey-snow">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Mickey-snow's Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/08/21/CF1027C%20Minimum%20Value%20Rectangle/" itemprop="url">【题解】CF1027C</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建时间" itemprop="dateCreated datePublished" datetime="2018-08-21T00:00:00+08:00">
                2018-08-21
              </time>
            

            
              <span class="post-meta-divider">|</span>
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-check-o"></i>
              </span>
              
                <span class="post-meta-item-text">修改时间&#58;</span>
              
              <time title="修改时间" itemprop="dateModified" datetime="2020-04-07T12:00:03+08:00">
                2020-04-07
              </time>
            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E9%A2%98%E8%A7%A3/" itemprop="url" rel="index">
                    <span itemprop="name">题解</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          
            <div class="post-wordcount">
              
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Words count in article&#58;</span>
                
                <span title="Words count in article">
                  920 character(s)
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Reading time &asymp;</span>
                
                <span title="Reading time">
                  4 minute(s)
                </span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body han-init-context" itemprop="articleBody">

      
      

      
        
          
            <p>题目大意：给你 $n$ ($4 \leq n \leq 10^6$) 根木棍，不允许拼接或折断，选择四根组成矩形，求所有合法矩形中周长平方与面积比最小的一个，输出拼成这个矩形的四根木棍。具体的数据范围见英文题面。</p>
<p>这题巧妙至极，看数据范围就很容易想到这题很有可能是一个贪心。</p>
<p>我们记一个矩形周长为 $C$ ，面积为 $S$ . 记 $P = \frac{C^2}{S}$ .</p>
<p>　</p>
<p>正式贪心之前，先证明一个引理：</p>
<h4 id="引理：-forall-两个合法矩形-A-和-B-，如果它们拥有同等的宽，且-A-的长小于-B-的长，那么-P-A-leq-P-B"><a href="#引理：-forall-两个合法矩形-A-和-B-，如果它们拥有同等的宽，且-A-的长小于-B-的长，那么-P-A-leq-P-B" class="headerlink" title="引理：$\forall$ 两个合法矩形 $A$ 和 $B$ ，如果它们拥有同等的宽，且 $A$ 的长小于 $B$ 的长，那么 $P_A \leq P_B$ ."></a>引理：$\forall$ 两个合法矩形 $A$ 和 $B$ ，如果它们拥有同等的宽，且 $A$ 的长小于 $B$ 的长，那么 $P_A \leq P_B$ .</h4><p>证明：</p>
<p>假设矩形 $A,B$ 宽为 $a$ ,$A$ 的长为 $b$ ,$B$ 的长为 $b+b_1$ .且 $a,b,b_1 \in R^+$ . 则需证明</p>
<script type="math/tex; mode=display">\forall a,b,b_1. P_A - P_B \ge 0</script><p>代入数据，也就是</p>
<pre><code> $$ \frac{[2a+2(b+b_1)]^2}{ab+ab_1} - \frac{(2a+2b)^2}{ab} \ge 0$$
</code></pre><p>显而易见，分母大于0，乘上 $ab(ab+ab_1)$ 不会改变这个不等式.</p>
<script type="math/tex; mode=display">4a^3b+4ab^3+4abb_1^2+8ab^2b_1+8a^2b^2+8a^2bb_1-4a^3b-4ab^3-8a^2b^2-4a^3b_1-4ab^2b_1-8a^2bb_1 \ge 0</script><p>整理得</p>
<script type="math/tex; mode=display">4abb_1^2 + 4ab^2b_1 - 4a^3b_1 \ge 0</script><p>没有了同类项，式子的正确性变得不那么显然了，我们一项项分析。$4abb_1^2$  一定大于0，而且可以判断出 $4ab^2b_1 - 4a^3b_1 \ge 0$ . 理由如下：</p>
<p>因式分解得 </p>
<script type="math/tex; mode=display">4ab^2b_1 - 4a^3b_1 = 4ab_1(b^{2} - a^{2}) = 4ab_1(a+b)(b-a)</script><p>$\because 4ab_1 , (a+b) \ge 0 $，由于 $b$ 为长，$\therefore b-a \ge 0$ .  $\therefore 4ab^2b_1 - 4a^3b_1 \ge 0$ .</p>
<p>$\therefore P_A \leq P_B$ .</p>
<p>证毕。</p>
<p>　</p>
<h4 id="实现"><a href="#实现" class="headerlink" title="实现"></a>实现</h4><p>由引理可知，$\forall$ 矩形的宽$a$ ，能使这个矩形 $P$ 值最小的必定是一个最小的 $b$ 满足 $b \ge a$.</p>
<p>将木棍配对，假设最终可用的木棍为 $m$ ,每一对木棍的长度分别为 $a<em>i$ ,那么我们只用扫一遍，找到一组 $P$ 值最小的 $a_i$ 和 $a</em>{i+1}$ 即可。</p>
<p>由于任何一个木棍长度都不会超过 $10^4$ ,所以我们可以开一个一维数组，读入的同时桶排序，如果发现超过两个就放一对木棍进入 $b$ 数组，如果超过四个就再放一对。这样就自动过滤掉了多余的无用木棍。完成这一步后需要对 $b$ 数组进行排序。</p>
<p>这一步结束后，我们应该有一个数组 $b$ ,$b_i$ 代表第 $i$ 对木棍长度。前面提到过，$b$ 中元素个数为 $m$.</p>
<p>最后就扫一遍就完了，按照公式 $O(1)$ 算出 $P$ 值，$O(M)$ 结束整个过程。</p>
<p>对于每一组数据，时间复杂度为 $O(N\log{N}+M)$.</p>
<p>代码如下：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line">using System;</span><br><span class="line">using System.Collections;</span><br><span class="line"></span><br><span class="line">namespace CF1027C </span><br><span class="line">&#123;</span><br><span class="line">	class Program </span><br><span class="line">	&#123;</span><br><span class="line">		public class Global &#123;</span><br><span class="line">			public static int[] len;</span><br><span class="line">			public static ArrayList arr;</span><br><span class="line">			public static void RestoreAll() &#123;</span><br><span class="line">				arr &#x3D; null;len &#x3D; null;</span><br><span class="line">				len &#x3D; new int[10005];arr &#x3D; new ArrayList &#123; &#125;;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">		static void Main(string[] args) </span><br><span class="line">		&#123;</span><br><span class="line">			string[] inp;</span><br><span class="line">			int totCases &#x3D; Convert.ToInt32(Console.ReadLine()), totNums, a, b;</span><br><span class="line">			decimal _minVal;</span><br><span class="line"></span><br><span class="line">			while(totCases--&gt;0)</span><br><span class="line">			&#123;</span><br><span class="line">				totNums &#x3D; Convert.ToInt32(Console.ReadLine());</span><br><span class="line">				Global.RestoreAll();inp &#x3D; Console.ReadLine().Split(&#39; &#39;);</span><br><span class="line"></span><br><span class="line">				for(int i &#x3D; 0;i &lt; totNums;i++) &#123;</span><br><span class="line">					a &#x3D; Convert.ToInt32(inp[i]);</span><br><span class="line">					Global.len[a]++;</span><br><span class="line">					if(Global.len[a] &#x3D;&#x3D; 2 || Global.len[a] &#x3D;&#x3D; 4)</span><br><span class="line">						Global.arr.Add(a);</span><br><span class="line">				&#125;Global.arr.Sort();</span><br><span class="line"></span><br><span class="line">				a &#x3D; (int)Global.arr[0];b &#x3D; (int)Global.arr[1];_minVal &#x3D; Solve(1);</span><br><span class="line">				for(int i &#x3D; 2;i &lt; Global.arr.Count;i++)</span><br><span class="line">					if(Solve(i) &lt; _minVal) &#123;</span><br><span class="line">						_minVal &#x3D; Solve(i);</span><br><span class="line">						a &#x3D; (int)Global.arr[i - 1];b &#x3D; (int)Global.arr[i];</span><br><span class="line">					&#125;</span><br><span class="line"></span><br><span class="line">				Console.WriteLine(a.ToString() + &quot; &quot; + a.ToString() + &quot; &quot; + b.ToString() + &quot; &quot; + b.ToString());</span><br><span class="line">			&#125;</span><br><span class="line"></span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">		static decimal Solve(int pos) &#123;</span><br><span class="line">			return ((decimal)(((int)Global.arr[pos] + (int)Global.arr[pos - 1]) &lt;&lt; 1) * (((int)Global.arr[pos] + (int)Global.arr[pos - 1]) &lt;&lt; 1)) &#x2F; (decimal)((int)Global.arr[pos] * (int)Global.arr[pos - 1]);</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

          
        
      
    </div>
    
    
    
  

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://mickey-snow.github.io/2018/08/19/CF1027D%20Mouse%20Hunt/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Mickey-snow">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Mickey-snow's Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/08/19/CF1027D%20Mouse%20Hunt/" itemprop="url">【题解】CF1027D</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建时间" itemprop="dateCreated datePublished" datetime="2018-08-19T00:00:00+08:00">
                2018-08-19
              </time>
            

            
              <span class="post-meta-divider">|</span>
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-check-o"></i>
              </span>
              
                <span class="post-meta-item-text">修改时间&#58;</span>
              
              <time title="修改时间" itemprop="dateModified" datetime="2020-04-07T12:00:03+08:00">
                2020-04-07
              </time>
            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E9%A2%98%E8%A7%A3/" itemprop="url" rel="index">
                    <span itemprop="name">题解</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          
            <div class="post-wordcount">
              
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Words count in article&#58;</span>
                
                <span title="Words count in article">
                  803 character(s)
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Reading time &asymp;</span>
                
                <span title="Reading time">
                  3 minute(s)
                </span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body han-init-context" itemprop="articleBody">

      
      

      
        
          
            <p>题目大意：有一只老鼠在女生宿舍的某一个房间中，女生们希望抓住它，现在我们知道了如果老鼠第 $i$ 秒在房间 $s$ 中，那么到了第 $i+1$ 秒它将到达 $next_i$ 号房间，此过程中不经过任何其它的房间，房间编号从 $1$ 到 $n$ .我们不知道一开始老鼠在哪个房间中，但是可以花费 $cost_i$ 的代价在 $i$ 号房间布置陷阱。布置的陷阱需要满足无论老鼠一开始在那个房间中，最后都会落入陷阱，在此基础之上，要求这个尽可能少的代价 $\sum cost_i$ .</p>
<p>我们将老鼠走的路径抽离出来，发现有三种情况：</p>
<ol>
<li>老鼠从一个房间 $s$ 出发，走过一条链，到达一个房间 $t$ 满足 $next_t = t$ ,此后一直停留在 $t$.</li>
<li>老鼠从一个房间 $s$ 出发，走过一个环，又回到 $s$ ,此后一直这样循环。</li>
<li>老鼠从一个房间 $s$ 出发，先走过一条链到达 $t$ 这时进入一个环，走了若干步又回到 $t$ ,如此循环。</li>
</ol>
<p>对于不同的情况，很好设计对策：</p>
<ol>
<li>唯一的方法是在 $t$ 布置陷阱，在其它地方布置只可能花费更高的代价。</li>
<li>在环中选择一个代价最小的房间布置陷阱。</li>
<li>同2，链接这个环的链可以去掉不看。</li>
</ol>
<p>这样，无论老鼠一开始在哪个房间，都会最终落入陷阱当中，实现可以依靠暴力。从一个点 $s$ 不停地往下走，我们将这称作第 $s$ 次模拟，同时记录一个数组 $vis_i$ 代表 $i$ 号房间是在哪一次模拟当中经过的，每到达一个房间就将这个房间的 $vis$ 赋值为 $s$ .如果遇到了一个房间 $j$ 满足 $vis_j &lt; s$ 证明这条路走下去一定有一个陷阱(在此之前布置的)，直接 break 掉。如果到达一个房间 $j$ 满足 $next_j = j$ 对应情况1，在$j$ 布置陷阱。如果到达一个房间 $j$ 满足 $vis_j = s$ 对应情况 2 或 3，从这里开始将整个环遍历一遍，找出一个最小值。</p>
<p>由于每一个点我们只赋了一次 $vis$ ，以后看到它就直接停止走下去了，算上判环每个点 经过至多2次，时间复杂度为 $O(N)$.</p>
<p>具体的实现细节见代码：</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> MAXN 200050</span></span><br><span class="line"><span class="keyword">int</span> nxt[MAXN], cost[MAXN];</span><br><span class="line"><span class="keyword">int</span> vis[MAXN];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">getMin</span><span class="params">(<span class="keyword">int</span> start)</span> </span>&#123;</span><br><span class="line">	<span class="keyword">int</span> _min = cost[start];</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = nxt[start];; i = nxt[i]) &#123;</span><br><span class="line">		<span class="keyword">if</span> (i == start)<span class="keyword">return</span> _min;</span><br><span class="line">		<span class="keyword">else</span> _min = min(_min, cost[i]);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="built_in">memset</span>(vis, <span class="literal">false</span>, <span class="keyword">sizeof</span>(vis));</span><br><span class="line"></span><br><span class="line">	<span class="keyword">int</span> totRooms, _min; <span class="keyword">long</span> <span class="keyword">long</span> _count = <span class="number">0</span>;</span><br><span class="line">	<span class="built_in">cin</span> &gt;&gt; totRooms;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; totRooms; i++)<span class="built_in">scanf</span>(<span class="string">"%d"</span>, cost + i);</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; totRooms; i++) &#123;</span><br><span class="line">		<span class="built_in">cin</span> &gt;&gt; nxt[i]; nxt[i]--;</span><br><span class="line">		<span class="keyword">if</span> (nxt[i] == i) &#123; vis[i] = <span class="number">-1</span>; _count += cost[i]; &#125;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> start = <span class="number">0</span>; start &lt; totRooms; start++) &#123;</span><br><span class="line">		<span class="keyword">if</span> (vis[start] != <span class="number">0</span>)<span class="keyword">continue</span>;</span><br><span class="line"></span><br><span class="line">		_min = cost[start];</span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> i = start;; i = nxt[i]) &#123;</span><br><span class="line">			<span class="keyword">if</span> (vis[i] != <span class="number">0</span>) &#123;</span><br><span class="line">				<span class="keyword">if</span> (vis[i] == start + <span class="number">1</span>)_count += getMin(i);</span><br><span class="line">				<span class="keyword">break</span>;</span><br><span class="line">			&#125;</span><br><span class="line">			vis[i] = start + <span class="number">1</span>; </span><br><span class="line">			_min = min(_min, cost[i]);</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="built_in">cout</span> &lt;&lt; _count &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line"></span><br><span class="line">	<span class="comment">//system("pause");</span></span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

          
        
      
    </div>
    
    
    
  

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://mickey-snow.github.io/2018/08/19/CF407B%20Long%20Path/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Mickey-snow">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Mickey-snow's Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/08/19/CF407B%20Long%20Path/" itemprop="url">【题解】CF407B</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建时间" itemprop="dateCreated datePublished" datetime="2018-08-19T00:00:00+08:00">
                2018-08-19
              </time>
            

            
              <span class="post-meta-divider">|</span>
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-check-o"></i>
              </span>
              
                <span class="post-meta-item-text">修改时间&#58;</span>
              
              <time title="修改时间" itemprop="dateModified" datetime="2020-04-07T12:00:03+08:00">
                2020-04-07
              </time>
            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E9%A2%98%E8%A7%A3/" itemprop="url" rel="index">
                    <span itemprop="name">题解</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          
            <div class="post-wordcount">
              
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Words count in article&#58;</span>
                
                <span title="Words count in article">
                  746 character(s)
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Reading time &asymp;</span>
                
                <span title="Reading time">
                  3 minute(s)
                </span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body han-init-context" itemprop="articleBody">

      
      

      
        
          
            <p>首先，我们可以发现一个很有用的信息，就是到达一个房间 $i$ 之后如果不能够直接走向 $i + 1$ (奇数次到达 $i$ ) ，那么之后我们只能够去一个拥有比 $i$ 小的 序号的房间，这为我们提供了动态规划的思路。</p>
<p>我们先开一个二维数组 $Dp$ , $Dp<em>{i,j}$ 代表从 $i$ 号房间走到 $j$ 号房间需要经过的门的数量，$Dp$ 仅当 $i \leq j$ 时才有意义。如果房间从 1 开始编号，那么答案就是 $Dp</em>{1,n + 1} - 1$ ，边界条件为 $Dp_{i,i} = 1$.</p>
<p>到这里可能有人会有疑问：这两个1是怎么来的。 事实上，$Dp_{i,i} = 1$ 代表从 $i$ 号房间走到 $i$ 号房间，而并不是呆在原地不动，这也是为什么后面的答案算出来也需要减去1的原因。</p>
<h4 id="第一次到达-i-i-gt-1-之前，一定到达了-i-1-号房间正好-2-次。"><a href="#第一次到达-i-i-gt-1-之前，一定到达了-i-1-号房间正好-2-次。" class="headerlink" title="第一次到达 $i | i &gt; 1$ 之前，一定到达了 $i - 1$ 号房间正好 2 次。"></a>第一次到达 $i | i &gt; 1$ 之前，一定到达了 $i - 1$ 号房间正好 2 次。</h4><p>证明：第一次到达 $i$ 号房间之前，一定没有到达过$ i + 1 $。 当第一个达到 $i$ 的时候，走向一个房间 $j$ ,而且 $j \leq i$ ,我们再经过一连串的房间，它们都小于 $i + 1$ ,直到第二次到达 $i$ ，才可以径直走向 $i + 1$.</p>
<p>按照这个逻辑，转移方程如下：</p>
<pre><code>$$ Dp_{fr,to} = Dp_{fr,to - 1} + Dp_{next_{to - 1}, to-1} + 1 $$ 
</code></pre><p>  有了转移方程，但是<del>由于我太垃圾了</del>看不出来计算顺序，所以我们可以使用记忆化搜索，$Dp_{fr,to}$ 通过以下的函数得到。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">static Int64 Solve(int fr,int to) &#123;</span><br><span class="line">	if(fr &#x3D;&#x3D; to) return Global.Dp[fr, to] &#x3D; 1;</span><br><span class="line">	if(Global.vis[fr, to]) return Global.Dp[fr, to];</span><br><span class="line">	else &#123; Global.vis[fr, to] &#x3D; true;Global.Dp[fr, to] &#x3D; 0; &#125;</span><br><span class="line"></span><br><span class="line">	return (Global.Dp[fr, to] &#x3D; (Solve(fr, to - 1) + Solve(Global.nxt[to - 1], to - 1) + 1) % 1000000007);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p> 在这份代码中 Global 是全局函数类名， $vis<em>{i,j}$ 代表有没有计算过，当然也可以用 $Dp</em>{i,j} = -1$ 达到相同的效果。</p>
<p>时空复杂度为 $O(N^2)$  ，但是由于有些状态搜索不到，所以应该实际上比这个小一些？</p>
<p>完整的代码如下：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line">using System;</span><br><span class="line"></span><br><span class="line">namespace CF407B</span><br><span class="line">&#123;</span><br><span class="line">    class Program</span><br><span class="line">    &#123;</span><br><span class="line">		public class Global &#123;</span><br><span class="line">			public static Int64[,] Dp;</span><br><span class="line">			public static int[] nxt;</span><br><span class="line">			public static bool[,] vis;</span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">        static void Main(string[] args)</span><br><span class="line">        &#123;</span><br><span class="line">			int totRooms &#x3D; Convert.ToInt32(Console.ReadLine());</span><br><span class="line">			string[] div &#x3D; Console.ReadLine().Split(&#39; &#39;);</span><br><span class="line"></span><br><span class="line">			Global.nxt &#x3D; new int[totRooms];</span><br><span class="line">			for(int i &#x3D; 0; i &lt; totRooms; i++) Global.nxt[i] &#x3D; Convert.ToInt32(div[i]) - 1;</span><br><span class="line"></span><br><span class="line">			Global.Dp &#x3D; new Int64[totRooms + 1, totRooms + 1];</span><br><span class="line">			Global.vis &#x3D; new bool[totRooms + 1, totRooms + 1];</span><br><span class="line">			for(int i &#x3D; 0; i &lt;&#x3D; totRooms; i++) for(int j &#x3D; 0; j &lt;&#x3D; totRooms; j++) Global.vis[i, j] &#x3D; false;</span><br><span class="line"></span><br><span class="line">			Console.WriteLine((Solve(0, totRooms) - 1).ToString());</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">		static Int64 Solve(int fr,int to) &#123;</span><br><span class="line">			if(fr &#x3D;&#x3D; to) return Global.Dp[fr, to] &#x3D; 1;</span><br><span class="line">			if(Global.vis[fr, to]) return Global.Dp[fr, to];</span><br><span class="line">			else &#123; Global.vis[fr, to] &#x3D; true;Global.Dp[fr, to] &#x3D; 0; &#125;</span><br><span class="line"></span><br><span class="line">			return (Global.Dp[fr, to] &#x3D; (Solve(fr, to - 1) + Solve(Global.nxt[to - 1], to - 1) + 1) % 1000000007);</span><br><span class="line">		&#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

          
        
      
    </div>
    
    
    
  

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://mickey-snow.github.io/2018/08/18/CF1023C/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Mickey-snow">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Mickey-snow's Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/08/18/CF1023C/" itemprop="url">【题解】CF1023C</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建时间" itemprop="dateCreated datePublished" datetime="2018-08-18T00:00:00+08:00">
                2018-08-18
              </time>
            

            
              <span class="post-meta-divider">|</span>
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-check-o"></i>
              </span>
              
                <span class="post-meta-item-text">修改时间&#58;</span>
              
              <time title="修改时间" itemprop="dateModified" datetime="2020-04-07T12:00:03+08:00">
                2020-04-07
              </time>
            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E9%A2%98%E8%A7%A3/" itemprop="url" rel="index">
                    <span itemprop="name">题解</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          
            <div class="post-wordcount">
              
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Words count in article&#58;</span>
                
                <span title="Words count in article">
                  246 character(s)
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Reading time &asymp;</span>
                
                <span title="Reading time">
                  1 minute(s)
                </span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body han-init-context" itemprop="articleBody">

      
      

      
        
          
            <p>题目大意：给你一个正则括号序列 $s$ ,让你在当中选择一个长度正好为 $t$ 的子串，使得 $t$ 恰好也是一个正则括号序列。</p>
<p>由于我们已经知道了 $s$ 是合法的，所以 $s$ 中的东西我们能用则用，将 $s$ 扫一遍，记录一下当前处于括号的哪一层（也就是前面有多少个’(‘没有’)’与之对应）。如果当前 $s$ 中字符为 ‘(‘而且长度没有达到需要的一半，就将它加入 $t$ 中。如果是 ‘)’,则当前层数减一(如果不在最外层），加入 $t$ 中。</p>
<p>代码如下：</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="built_in">string</span> a, b;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="keyword">int</span> totLen, need; <span class="built_in">cin</span> &gt;&gt; totLen &gt;&gt; need &gt;&gt; a;</span><br><span class="line"></span><br><span class="line">	need &gt;&gt;= <span class="number">1</span>; <span class="keyword">int</span> cnt = <span class="number">0</span>;</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; totLen; i++) &#123;</span><br><span class="line">		<span class="keyword">if</span> (a[i] == <span class="string">'('</span> &amp;&amp; need &gt; <span class="number">0</span>) &#123; need--; b += <span class="string">'('</span>; cnt++; &#125;</span><br><span class="line">		<span class="keyword">if</span> (a[i] == <span class="string">')'</span>&amp;&amp;cnt &gt; <span class="number">0</span>) &#123; b += <span class="string">')'</span>; cnt--; &#125;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="built_in">cout</span> &lt;&lt; b &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">	<span class="comment">//system("pause");</span></span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

          
        
      
    </div>
    
    
    
  

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://mickey-snow.github.io/2018/08/18/CF176B/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Mickey-snow">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Mickey-snow's Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/08/18/CF176B/" itemprop="url">【题解】CF176B</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建时间" itemprop="dateCreated datePublished" datetime="2018-08-18T00:00:00+08:00">
                2018-08-18
              </time>
            

            
              <span class="post-meta-divider">|</span>
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-check-o"></i>
              </span>
              
                <span class="post-meta-item-text">修改时间&#58;</span>
              
              <time title="修改时间" itemprop="dateModified" datetime="2020-04-07T12:00:03+08:00">
                2020-04-07
              </time>
            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E9%A2%98%E8%A7%A3/" itemprop="url" rel="index">
                    <span itemprop="name">题解</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          
            <div class="post-wordcount">
              
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Words count in article&#58;</span>
                
                <span title="Words count in article">
                  830 character(s)
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Reading time &asymp;</span>
                
                <span title="Reading time">
                  3 minute(s)
                </span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body han-init-context" itemprop="articleBody">

      
      

      
        
          
            <p>题目大致意思：给你两个字符串 $s$ 和 $t$ ,你一次操作可以将 $s$ 分为两部分，交换这两部分的位置，你要恰好执行 $k$ 次这样的操作，使得 $s$ 变为 $t$ ,有多少种不同的方法？只要中间有一步不同就视为两种不同的方法。</p>
<p>首先，我们需要知道这个所谓的操作是不会从根本上打乱串 $s$ 的，如果将 $s$ 看成是一个字符首尾相连圆圈，那么执行一次这样的操作就是将这个圆圈旋转了一下，并没有打乱字符之间的位置关系。</p>
<p>如果 $s$ 与 $t$ 的长度不想等，那么答案就是0，在这里我们假设它们长度一样。</p>
<p>首先，我们先找一下有多少个点 $k$ ，在这里切开 $s$ 之后可以得到 $t$ ，记这些点的总数量为 $cnt$ .这一步如果暴力匹配，时间复杂度最坏可能逼近 $O(N^2)$ ，但是应对大部分数据已经足够。当然，应该也可以用 KMP, 将 $s$ 与 $s + s$ 匹配一下，时间复杂度可以降到 $O(N \times 2)$ .保险起见我没有这么做。</p>
<p>之后开始递推，假设 $D[i]$ 是 执行了 $i$ 次操作之后的情况，$D[i,0]$  代表与 $t$ 相等的方案数，$D[i,1]$ 代表与 $t$ 不等的方案数，那么转移如下：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">D[now, 0] &#x3D; (D[last, 0] * (cutPoints - 1) % mod + D[last, 1] * cutPoints % mod) % mod;</span><br><span class="line">D[now, 1] &#x3D; (D[last, 0] * (len - cutPoints) % mod + D[last, 1] * (len - cutPoints - 1) % mod) % mod;</span><br></pre></td></tr></table></figure>
<ol>
<li>与 $t$ 相同，可以由上一步已经相同的选择一个未被选择的点 $k$ ，也可以由上一步不一样的任意选择一个 $k$ 得到。</li>
<li>与 $t$ 不同，可以由上一步已经相同的选择一个不是 $k$ 的点，也可以由上一步不一样的任意选择一个不是 $k$ 的点得到</li>
</ol>
<p>最终的答案，就是</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">D[totOptns, 0] %&#x3D; mod;</span><br></pre></td></tr></table></figure>
<p>由于每一次转移只使用到了上一次的值，所以 $D$ 数组可以滚动，空间复杂度为 $O(1)$ .</p>
<p>完整的程序如下：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line">using System;</span><br><span class="line">using System.Collections.Generic;</span><br><span class="line">using System.Linq;</span><br><span class="line">using System.Text;</span><br><span class="line">using System.Threading.Tasks;</span><br><span class="line">using System.Collections;</span><br><span class="line"></span><br><span class="line">namespace CF176B</span><br><span class="line">&#123;</span><br><span class="line">	class Program </span><br><span class="line">	&#123;</span><br><span class="line">		public class Global &#123;</span><br><span class="line">			public static string fr, to;</span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">		static void Main(string[] args) </span><br><span class="line">		&#123;</span><br><span class="line">			Global.fr &#x3D; Console.ReadLine();Global.to &#x3D; Console.ReadLine();</span><br><span class="line">			if(Global.fr.Length !&#x3D; Global.to.Length) &#123; Console.WriteLine(&quot;0&quot;);return; &#125;</span><br><span class="line"></span><br><span class="line">			int totChanges &#x3D; Convert.ToInt32(Console.ReadLine()), mod &#x3D; 1000000007;</span><br><span class="line">			Int64[,] D;</span><br><span class="line"></span><br><span class="line">			D &#x3D; new Int64[2, 2];</span><br><span class="line"></span><br><span class="line">			int now &#x3D; 0, last &#x3D; 1, cutPoints &#x3D; Solve(), len &#x3D; Global.to.Length;</span><br><span class="line">			if(Global.fr &#x3D;&#x3D; Global.to) &#123; D[now, 0] &#x3D; 1; D[now, 1] &#x3D; 0; &#125; </span><br><span class="line">			else &#123; D[now, 0] &#x3D; 0; D[now, 1] &#x3D; 1;&#125;</span><br><span class="line"></span><br><span class="line">			for(int i &#x3D; 0; i &lt; totChanges; i++) &#123;</span><br><span class="line">				now ^&#x3D; last;last ^&#x3D; now;now ^&#x3D; last;</span><br><span class="line"></span><br><span class="line">				D[now, 0] &#x3D; (D[last, 0] * (cutPoints - 1) % mod + D[last, 1] * cutPoints % mod) % mod;</span><br><span class="line">				D[now, 1] &#x3D; (D[last, 0] * (len - cutPoints) % mod + D[last, 1] * (len - cutPoints - 1) % mod) % mod;</span><br><span class="line">			&#125;</span><br><span class="line"></span><br><span class="line">			D[now, 0] %&#x3D; mod;</span><br><span class="line">			Console.WriteLine(D[now, 0].ToString());</span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">		static int Solve() &#123;</span><br><span class="line">			int cnt &#x3D; 0;</span><br><span class="line">			for(int i &#x3D; 0; i &lt; Global.fr.Length; i++) if(Solve(i)) &#123; cnt++; &#125;</span><br><span class="line">			return cnt;</span><br><span class="line">		&#125;</span><br><span class="line">		static bool Solve(int Pos) &#123;</span><br><span class="line">			for(int i &#x3D; Pos; i &lt; Global.fr.Length; i++)</span><br><span class="line">				if(Global.fr[i] !&#x3D; Global.to[i - Pos]) return false;</span><br><span class="line">			for(int i &#x3D; 0; i &lt; Pos; i++)</span><br><span class="line">				if(Global.fr[i] !&#x3D; Global.to[i + Global.to.Length - Pos]) return false;</span><br><span class="line">			return true;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

          
        
      
    </div>
    
    
    
  

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://mickey-snow.github.io/2018/08/17/CF735C/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Mickey-snow">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Mickey-snow's Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/08/17/CF735C/" itemprop="url">【题解】CF735C</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建时间" itemprop="dateCreated datePublished" datetime="2018-08-17T00:00:00+08:00">
                2018-08-17
              </time>
            

            
              <span class="post-meta-divider">|</span>
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-check-o"></i>
              </span>
              
                <span class="post-meta-item-text">修改时间&#58;</span>
              
              <time title="修改时间" itemprop="dateModified" datetime="2020-04-07T12:00:03+08:00">
                2020-04-07
              </time>
            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E9%A2%98%E8%A7%A3/" itemprop="url" rel="index">
                    <span itemprop="name">题解</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          
            <div class="post-wordcount">
              
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Words count in article&#58;</span>
                
                <span title="Words count in article">
                  394 character(s)
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Reading time &asymp;</span>
                
                <span title="Reading time">
                  1 minute(s)
                </span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body han-init-context" itemprop="articleBody">

      
      

      
        
          
            <p>这又是一道很有意思的CF题目。</p>
<p>题目大致意思是要我们安排一次有 $n$ 名参赛者参与的竞赛，在满足每场对决中的两名参赛者此前参加的比赛相差不超过1的前提下尽可能让竞赛的总场次多，要求这个最多的场次数量。</p>
<p>假设 $f(x) = $ 安排 $x$ 场比赛所需要的最少参赛者，那么题目要我们求的，就是一个最大的 $j$ 满足 $f(j) \leq n$ .所以我们需要解决的就是 $f$ 函数。</p>
<p>可以确定的是全部比赛结束之后只有1名参赛者，而且决赛是这名参赛者与亚军的对决，如果我们将规模缩小，$f$ 函数对应安排应该是与下图很像的。</p>
<img src="/2018/08/17/CF735C/29115%5B1%5D.png" class="">
<p>即，尽可能让两位已经参加场数相差为1的参赛者对决，按照这个逻辑，冠军和亚军在决赛之前参加的比赛场数应该分别为 $n-1$ 和 $n - 2$ ，而图中的这两个子树分别对应着 $f(n-1)$ 和 $f(n-2)$ 名参赛者，也就是说 $f(n) = f(n-1) + f(n-2)$ .</p>
<p>这样我们就可以递推 $f$ 函数了，边界条件为 $f(0) = f(-1) = 1$ .</p>
<p>AC代码如下：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">using System;</span><br><span class="line"></span><br><span class="line">namespace CF767E</span><br><span class="line">&#123;</span><br><span class="line">	class Program </span><br><span class="line">	&#123;</span><br><span class="line">		static void Main(string[] args) </span><br><span class="line">		&#123;</span><br><span class="line">			Int64 a &#x3D; 1, b &#x3D; 1, ans &#x3D; 0, max &#x3D; Convert.ToInt64(Console.ReadLine());</span><br><span class="line"></span><br><span class="line">			for(int i &#x3D; 1; true; i++) &#123;</span><br><span class="line">				ans &#x3D; a + b;</span><br><span class="line">				if(ans &gt; max) &#123;</span><br><span class="line">					Console.WriteLine((i - 1).ToString());</span><br><span class="line">					return;</span><br><span class="line">				&#125;</span><br><span class="line">				a &#x3D; b;b &#x3D; ans;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

          
        
      
    </div>
    
    
    
  

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://mickey-snow.github.io/2018/08/15/CF1019C/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Mickey-snow">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Mickey-snow's Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/08/15/CF1019C/" itemprop="url">【题解】CF1019C</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建时间" itemprop="dateCreated datePublished" datetime="2018-08-15T00:00:00+08:00">
                2018-08-15
              </time>
            

            
              <span class="post-meta-divider">|</span>
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-check-o"></i>
              </span>
              
                <span class="post-meta-item-text">修改时间&#58;</span>
              
              <time title="修改时间" itemprop="dateModified" datetime="2020-04-07T12:00:03+08:00">
                2020-04-07
              </time>
            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E9%A2%98%E8%A7%A3/" itemprop="url" rel="index">
                    <span itemprop="name">题解</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          
            <div class="post-wordcount">
              
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Words count in article&#58;</span>
                
                <span title="Words count in article">
                  763 character(s)
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Reading time &asymp;</span>
                
                <span title="Reading time">
                  3 minute(s)
                </span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body han-init-context" itemprop="articleBody">

      
      

      
        
          
            <p>这题除了保存需要用到一下邻接表以外，几乎没什么是和图论有关的。就是一个纯模拟。</p>
<p>题目大致的意思是，在一个有向图 $G$ 中找到一个点集 $S$ 。满足：</p>
<ol>
<li><p>点集中不能有两点之间有边相连。</p>
</li>
<li><p>从 $S$ 中的点出发，2步之内可以到达 $G$ 中任何一个点。</p>
</li>
</ol>
<p>　</p>
<p><strong>算法分为两步：</strong></p>
<p>先开两个布尔数组 $vis_i$ 代表点 $i$ 有没有被访问过。 $cse_i$ 代表选不选点 $i$ 。 </p>
<ol>
<li><p>从小到大将所有的点扫一遍，如果没有访问过( $vis_i==true$ )就同时标记 $vis_i$ 和 $cse_i$ 为真，并将所有的 $vis_j$ 标记为假。(如果从 $i$ 出发能够直接到达 $j$ )</p>
</li>
<li><p>从大到小将所有的点扫一遍，如果这个点已经被选( $cse_i==true$ ),将所有 $cse_j$ 标记为假。(如果从 $i$ 出发能够直接到达 $j$ )</p>
</li>
</ol>
<p>最后再扫一遍所有的点，这时 $cse_i$ 就是点 $i$ 最终是否被选择的情况了。</p>
<p>　</p>
<p><strong>这个算法为什么是正确的？</strong></p>
<p>假设每条边长度都是1.</p>
<p>首先我们可以确定的是，执行步骤1之后满足条件2，因为如果存在一个点离 $S$ 中最近的点 $t$ 距离超过2，那么他们中间一定间隔了至少2个点，而这两个点中有一个是一定可选的，如果不可选，那么这个点离 $S$ 中最近的点一定不是 $t$, 而是另外一个距离为2的点。</p>
<p>事实上，我们祟随便列举一些数据就可以知道，由于我们在选择一个点之后只标记这个点距离为1的说有点不可选，所以现在不仅满足条件2，而且条件2中的距离最大只可能是1.</p>
<p>但是，步骤1执行完成之后很可能不满足条件1，只要存在点 $s$ 和 $t$ 满足编号 $s&gt;t$, 而且有一条边从 $s$ 到 $t$.</p>
<p>这时可以发现，如果去掉了 $t$， 仍然是满足条件2的，这时的最大距离可能恰巧就为2了，但是仍然满足。而且去掉了所有不满足条件1的矛盾。</p>
<p>如果去掉 $s$ 会怎么样？这样有可能 $s$ 入度为0，不可能从任何一个 $S$ 中的点出发到达 $s$.</p>
<p>代码如下：</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> MAXPOINTS 1000005</span></span><br><span class="line"><span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; G[MAXPOINTS], arr;</span><br><span class="line"><span class="keyword">bool</span> vis[MAXPOINTS], book[MAXPOINTS];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="keyword">int</span> totNode, totEdge, a, b;</span><br><span class="line"></span><br><span class="line">	<span class="built_in">cin</span> &gt;&gt; totNode &gt;&gt; totEdge;</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; totEdge; i++) &#123;</span><br><span class="line">		<span class="built_in">scanf</span>(<span class="string">"%d%d"</span>, &amp;a, &amp;b);</span><br><span class="line">		G[--a].push_back(--b);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="built_in">memset</span>(vis, <span class="literal">false</span>, <span class="keyword">sizeof</span>(vis)); <span class="built_in">memset</span>(book, <span class="literal">false</span>, <span class="keyword">sizeof</span>(book));</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; totNode; i++)</span><br><span class="line">		<span class="keyword">if</span> (!vis[i]) &#123;</span><br><span class="line">			vis[i] = book[i] = <span class="literal">true</span>;</span><br><span class="line">			<span class="keyword">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp;it : G[i])</span><br><span class="line">				vis[it] = <span class="literal">true</span>;</span><br><span class="line">		&#125;</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = totNode - <span class="number">1</span>; i &gt;= <span class="number">0</span>; i--) </span><br><span class="line">		<span class="keyword">if</span> (book[i]) &#123;</span><br><span class="line">			<span class="keyword">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp;it : G[i])</span><br><span class="line">				book[it] = <span class="literal">false</span>;</span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; totNode; i++)</span><br><span class="line">		<span class="keyword">if</span> (book[i])arr.push_back(i + <span class="number">1</span>);</span><br><span class="line"></span><br><span class="line">	<span class="built_in">cout</span> &lt;&lt; arr.size() &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp;it : arr)</span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">"%d "</span>, it);</span><br><span class="line">	<span class="built_in">putchar</span>(<span class="string">'\n'</span>);</span><br><span class="line"></span><br><span class="line">	<span class="comment">//system("pause");</span></span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
          
        
      
    </div>
    
    
    
  

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
  </section>

  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/page/12/">&lt;i class&#x3D;&quot;fa fa-angle-left&quot;&gt;&lt;&#x2F;i&gt;</a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/12/">12</a><span class="page-number current">13</span><a class="page-number" href="/page/14/">14</a><a class="extend next" rel="next" href="/page/14/">&lt;i class&#x3D;&quot;fa fa-angle-right&quot;&gt;&lt;&#x2F;i&gt;</a>
  </nav>



          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      

      <section class="site-overview-wrap sidebar-panel sidebar-panel-active">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <img class="site-author-image" itemprop="image"
                src="/images/avatar.jpg"
                alt="Mickey-snow" />
            
              <p class="site-author-name" itemprop="name">Mickey-snow</p>
              <p class="site-description motion-element" itemprop="description">--force now, think later.</p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives/%20%7C%7C%20archive">
              
                  <span class="site-state-item-count">279</span>
                  <span class="site-state-item-name">日志</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-categories">
                <a href="/categories/index.html">
                  <span class="site-state-item-count">7</span>
                  <span class="site-state-item-name">分类</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-tags">
                <a href="/tags/index.html">
                  <span class="site-state-item-count">104</span>
                  <span class="site-state-item-name">标签</span>
                </a>
              </div>
            

          </nav>

          

          
            <div class="links-of-author motion-element">
                
                  <span class="links-of-author-item">
                    <a href="https://github.com/Mickey-snow" target="_blank" title="GitHub">
                      
                        <i class="fa fa-fw fa-github"></i>GitHub</a>
                  </span>
                
                  <span class="links-of-author-item">
                    <a href="mailto:Mickeysnow1031@gmail.com" target="_blank" title="E-Mail">
                      
                        <i class="fa fa-fw fa-envelope"></i>E-Mail</a>
                  </span>
                
                  <span class="links-of-author-item">
                    <a href="https://twitter.com/Mickeysnow11" target="_blank" title="Twitter">
                      
                        <i class="fa fa-fw fa-twitter"></i>Twitter</a>
                  </span>
                
                  <span class="links-of-author-item">
                    <a href="https://www.facebook.com/Thunremmoni" target="_blank" title="FB Page">
                      
                        <i class="fa fa-fw fa-facebook"></i>FB Page</a>
                  </span>
                
                  <span class="links-of-author-item">
                    <a href="https://stackoverflow.com/users/11585730/mickey-snow" target="_blank" title="S-Of">
                      
                        <i class="fa fa-fw fa-stack-overflow"></i>S-Of</a>
                  </span>
                
                  <span class="links-of-author-item">
                    <a href="https://www.youtube.com/channel/UCsE6Rn6Nb7BI1MO6jKTET8g?view_as=subscriber" target="_blank" title="YouTube">
                      
                        <i class="fa fa-fw fa-youtube"></i>YouTube</a>
                  </span>
                
                  <span class="links-of-author-item">
                    <a href="https://instagram.com/thunremmoni" target="_blank" title="Instagram">
                      
                        <i class="fa fa-fw fa-instagram"></i>Instagram</a>
                  </span>
                
                  <span class="links-of-author-item">
                    <a href="skype:live:kevin77478?call|chat" target="_blank" title="Skype">
                      
                        <i class="fa fa-fw fa-skype"></i>Skype</a>
                  </span>
                
            </div>
          

          
          

          
          
            <div class="links-of-blogroll motion-element links-of-blogroll-inline">
              <div class="links-of-blogroll-title">
                <i class="fa  fa-fw fa-globe"></i>
                Links
              </div>
              <ul class="links-of-blogroll-list">
                
                  <li class="links-of-blogroll-item">
                    <a href="http://oeis.org/" title="OEIS" target="_blank">OEIS</a>
                  </li>
                
                  <li class="links-of-blogroll-item">
                    <a href="https://zh.wikipedia.org/wiki/Help:数学公式" title="LaTeX" target="_blank">LaTeX</a>
                  </li>
                
                  <li class="links-of-blogroll-item">
                    <a href="https://scholar.google.com" title="Google Scholar" target="_blank">Google Scholar</a>
                  </li>
                
                  <li class="links-of-blogroll-item">
                    <a href="https://www.pixiv.net/" title="Pixiv" target="_blank">Pixiv</a>
                  </li>
                
                  <li class="links-of-blogroll-item">
                    <a href="https://codeforces.com/" title="Codeforces" target="_blank">Codeforces</a>
                  </li>
                
                  <li class="links-of-blogroll-item">
                    <a href="https://www.wikipedia.org/" title="Wikipedia" target="_blank">Wikipedia</a>
                  </li>
                
                  <li class="links-of-blogroll-item">
                    <a href="https://github.com/" title="Github" target="_blank">Github</a>
                  </li>
                
              </ul>
            </div>
          

          

        </div>
      </section>

      

      
        <div class="back-to-top">
          <i class="fa fa-arrow-up"></i>
          
            <span id="scrollpercent"><span>0</span>%</span>
          
        </div>
      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <script async src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"></script>

<div class="copyright">&copy; 2018 &mdash; <span itemprop="copyrightYear">2020</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Mickey-snow</span>

  
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      <i class="fa fa-area-chart"></i>
    </span>
    
      <span class="post-meta-item-text">Site words total count&#58;</span>
    
    <span title="Site words total count">210.7k</span>
  
</div>









        







        
      </div>
    </footer>

    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>










  











  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/canvas-nest/canvas-nest.min.js"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.4"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=5.1.4"></script>



  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.4"></script>



  


  




	





  





  












  

  <script type="text/javascript">
    // Popup Window;
    var isfetched = false;
    var isXml = true;
    // Search DB path;
    var search_path = "search.xml";
    if (search_path.length === 0) {
      search_path = "search.xml";
    } else if (/json$/i.test(search_path)) {
      isXml = false;
    }
    var path = "/" + search_path;
    // monitor main search box;

    var onPopupClose = function (e) {
      $('.popup').hide();
      $('#local-search-input').val('');
      $('.search-result-list').remove();
      $('#no-result').remove();
      $(".local-search-pop-overlay").remove();
      $('body').css('overflow', '');
    }

    function proceedsearch() {
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay"></div>')
        .css('overflow', 'hidden');
      $('.search-popup-overlay').click(onPopupClose);
      $('.popup').toggle();
      var $localSearchInput = $('#local-search-input');
      $localSearchInput.attr("autocapitalize", "none");
      $localSearchInput.attr("autocorrect", "off");
      $localSearchInput.focus();
    }

    // search function;
    var searchFunc = function(path, search_id, content_id) {
      'use strict';

      // start loading animation
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay">' +
          '<div id="search-loading-icon">' +
          '<i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>' +
          '</div>' +
          '</div>')
        .css('overflow', 'hidden');
      $("#search-loading-icon").css('margin', '20% auto 0 auto').css('text-align', 'center');

      $.ajax({
        url: path,
        dataType: isXml ? "xml" : "json",
        async: true,
        success: function(res) {
          // get the contents from search data
          isfetched = true;
          $('.popup').detach().appendTo('.header-inner');
          var datas = isXml ? $("entry", res).map(function() {
            return {
              title: $("title", this).text(),
              content: $("content",this).text(),
              url: $("url" , this).text()
            };
          }).get() : res;
          var input = document.getElementById(search_id);
          var resultContent = document.getElementById(content_id);
          var inputEventFunction = function() {
            var searchText = input.value.trim().toLowerCase();
            var keywords = searchText.split(/[\s\-]+/);
            if (keywords.length > 1) {
              keywords.push(searchText);
            }
            var resultItems = [];
            if (searchText.length > 0) {
              // perform local searching
              datas.forEach(function(data) {
                var isMatch = false;
                var hitCount = 0;
                var searchTextCount = 0;
                var title = data.title.trim();
                var titleInLowerCase = title.toLowerCase();
                var content = data.content.trim().replace(/<[^>]+>/g,"");
                var contentInLowerCase = content.toLowerCase();
                var articleUrl = decodeURIComponent(data.url);
                var indexOfTitle = [];
                var indexOfContent = [];
                // only match articles with not empty titles
                if(title != '') {
                  keywords.forEach(function(keyword) {
                    function getIndexByWord(word, text, caseSensitive) {
                      var wordLen = word.length;
                      if (wordLen === 0) {
                        return [];
                      }
                      var startPosition = 0, position = [], index = [];
                      if (!caseSensitive) {
                        text = text.toLowerCase();
                        word = word.toLowerCase();
                      }
                      while ((position = text.indexOf(word, startPosition)) > -1) {
                        index.push({position: position, word: word});
                        startPosition = position + wordLen;
                      }
                      return index;
                    }

                    indexOfTitle = indexOfTitle.concat(getIndexByWord(keyword, titleInLowerCase, false));
                    indexOfContent = indexOfContent.concat(getIndexByWord(keyword, contentInLowerCase, false));
                  });
                  if (indexOfTitle.length > 0 || indexOfContent.length > 0) {
                    isMatch = true;
                    hitCount = indexOfTitle.length + indexOfContent.length;
                  }
                }

                // show search results

                if (isMatch) {
                  // sort index by position of keyword

                  [indexOfTitle, indexOfContent].forEach(function (index) {
                    index.sort(function (itemLeft, itemRight) {
                      if (itemRight.position !== itemLeft.position) {
                        return itemRight.position - itemLeft.position;
                      } else {
                        return itemLeft.word.length - itemRight.word.length;
                      }
                    });
                  });

                  // merge hits into slices

                  function mergeIntoSlice(text, start, end, index) {
                    var item = index[index.length - 1];
                    var position = item.position;
                    var word = item.word;
                    var hits = [];
                    var searchTextCountInSlice = 0;
                    while (position + word.length <= end && index.length != 0) {
                      if (word === searchText) {
                        searchTextCountInSlice++;
                      }
                      hits.push({position: position, length: word.length});
                      var wordEnd = position + word.length;

                      // move to next position of hit

                      index.pop();
                      while (index.length != 0) {
                        item = index[index.length - 1];
                        position = item.position;
                        word = item.word;
                        if (wordEnd > position) {
                          index.pop();
                        } else {
                          break;
                        }
                      }
                    }
                    searchTextCount += searchTextCountInSlice;
                    return {
                      hits: hits,
                      start: start,
                      end: end,
                      searchTextCount: searchTextCountInSlice
                    };
                  }

                  var slicesOfTitle = [];
                  if (indexOfTitle.length != 0) {
                    slicesOfTitle.push(mergeIntoSlice(title, 0, title.length, indexOfTitle));
                  }

                  var slicesOfContent = [];
                  while (indexOfContent.length != 0) {
                    var item = indexOfContent[indexOfContent.length - 1];
                    var position = item.position;
                    var word = item.word;
                    // cut out 100 characters
                    var start = position - 20;
                    var end = position + 80;
                    if(start < 0){
                      start = 0;
                    }
                    if (end < position + word.length) {
                      end = position + word.length;
                    }
                    if(end > content.length){
                      end = content.length;
                    }
                    slicesOfContent.push(mergeIntoSlice(content, start, end, indexOfContent));
                  }

                  // sort slices in content by search text's count and hits' count

                  slicesOfContent.sort(function (sliceLeft, sliceRight) {
                    if (sliceLeft.searchTextCount !== sliceRight.searchTextCount) {
                      return sliceRight.searchTextCount - sliceLeft.searchTextCount;
                    } else if (sliceLeft.hits.length !== sliceRight.hits.length) {
                      return sliceRight.hits.length - sliceLeft.hits.length;
                    } else {
                      return sliceLeft.start - sliceRight.start;
                    }
                  });

                  // select top N slices in content

                  var upperBound = parseInt('5');
                  if (upperBound >= 0) {
                    slicesOfContent = slicesOfContent.slice(0, upperBound);
                  }

                  // highlight title and content

                  function highlightKeyword(text, slice) {
                    var result = '';
                    var prevEnd = slice.start;
                    slice.hits.forEach(function (hit) {
                      result += text.substring(prevEnd, hit.position);
                      var end = hit.position + hit.length;
                      result += '<b class="search-keyword">' + text.substring(hit.position, end) + '</b>';
                      prevEnd = end;
                    });
                    result += text.substring(prevEnd, slice.end);
                    return result;
                  }

                  var resultItem = '';

                  if (slicesOfTitle.length != 0) {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + highlightKeyword(title, slicesOfTitle[0]) + "</a>";
                  } else {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + title + "</a>";
                  }

                  slicesOfContent.forEach(function (slice) {
                    resultItem += "<a href='" + articleUrl + "'>" +
                      "<p class=\"search-result\">" + highlightKeyword(content, slice) +
                      "...</p>" + "</a>";
                  });

                  resultItem += "</li>";
                  resultItems.push({
                    item: resultItem,
                    searchTextCount: searchTextCount,
                    hitCount: hitCount,
                    id: resultItems.length
                  });
                }
              })
            };
            if (keywords.length === 1 && keywords[0] === "") {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-search fa-5x" /></div>'
            } else if (resultItems.length === 0) {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-frown-o fa-5x" /></div>'
            } else {
              resultItems.sort(function (resultLeft, resultRight) {
                if (resultLeft.searchTextCount !== resultRight.searchTextCount) {
                  return resultRight.searchTextCount - resultLeft.searchTextCount;
                } else if (resultLeft.hitCount !== resultRight.hitCount) {
                  return resultRight.hitCount - resultLeft.hitCount;
                } else {
                  return resultRight.id - resultLeft.id;
                }
              });
              var searchResultList = '<ul class=\"search-result-list\">';
              resultItems.forEach(function (result) {
                searchResultList += result.item;
              })
              searchResultList += "</ul>";
              resultContent.innerHTML = searchResultList;
            }
          }

          if ('auto' === 'auto') {
            input.addEventListener('input', inputEventFunction);
          } else {
            $('.search-icon').click(inputEventFunction);
            input.addEventListener('keypress', function (event) {
              if (event.keyCode === 13) {
                inputEventFunction();
              }
            });
          }

          // remove loading animation
          $(".local-search-pop-overlay").remove();
          $('body').css('overflow', '');

          proceedsearch();
        }
      });
    }

    // handle and trigger popup window;
    $('.popup-trigger').click(function(e) {
      e.stopPropagation();
      if (isfetched === false) {
        searchFunc(path, 'local-search-input', 'local-search-result');
      } else {
        proceedsearch();
      };
    });

    $('.popup-btn-close').click(onPopupClose);
    $('.popup').click(function(e){
      e.stopPropagation();
    });
    $(document).on('keyup', function (event) {
      var shouldDismissSearchPopup = event.which === 27 &&
        $('.search-popup').is(':visible');
      if (shouldDismissSearchPopup) {
        onPopupClose();
      }
    });
  </script>





  

  

  
<script>
(function(){
    var bp = document.createElement('script');
    var curProtocol = window.location.protocol.split(':')[0];
    if (curProtocol === 'https') {
        bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';        
    }
    else {
        bp.src = 'http://push.zhanzhang.baidu.com/push.js';
    }
    var s = document.getElementsByTagName("script")[0];
    s.parentNode.insertBefore(bp, s);
})();
</script>


  
  

  
  
    <script type="text/x-mathjax-config">
      MathJax.Hub.Config({
        tex2jax: {
          inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
          processEscapes: true,
          skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
        }
      });
    </script>

    <script type="text/x-mathjax-config">
      MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax(), i;
        for (i=0; i < all.length; i += 1) {
          all[i].SourceElement().parentNode.className += ' has-jax';
        }
      });
    </script>
    <script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script><!-- hexo-inject:begin --><!-- Begin: Injected MathJax -->
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({"tex2jax":{"inlineMath":[["$","$"],["\\(","\\)"]],"skipTags":["script","noscript","style","textarea","pre","code"],"processEscapes":true},"TeX":{"equationNumbers":{"autoNumber":"AMS"}}});
</script>

<script type="text/x-mathjax-config">
  MathJax.Hub.Queue(function() {
    var all = MathJax.Hub.getAllJax(), i;
    for(i=0; i < all.length; i += 1) {
      all[i].SourceElement().parentNode.className += ' has-jax';
    }
  });
</script>

<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js">
</script>
<!-- End: Injected MathJax -->
<!-- hexo-inject:end -->
  


  

  

</body>
</html>
